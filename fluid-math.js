!function(t){var i={};function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)n.d(e,o,function(i){return t[i]}.bind(null,o));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=4)}([function(t,i){var n=4,e=.001,o=1e-7,r=10,s=11,a=1/(s-1),h="function"==typeof Float32Array;function c(t,i){return 1-3*i+3*t}function u(t,i){return 3*i-6*t}function l(t){return 3*t}function p(t,i,n){return((c(i,n)*t+u(i,n))*t+l(i))*t}function f(t,i,n){return 3*c(i,n)*t*t+2*u(i,n)*t+l(i)}function d(t){return t}t.exports=function(t,i,c,u){if(!(0<=t&&t<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===i&&c===u)return d;for(var l=h?new Float32Array(s):new Array(s),g=0;g<s;++g)l[g]=p(g*a,t,c);function y(i){for(var h=0,u=1,d=s-1;u!==d&&l[u]<=i;++u)h+=a;var g=h+(i-l[--u])/(l[u+1]-l[u])*a,y=f(g,t,c);return y>=e?function(t,i,e,o){for(var r=0;r<n;++r){var s=f(i,e,o);if(0===s)return i;i-=(p(i,e,o)-t)/s}return i}(i,g,t,c):0===y?g:function(t,i,n,e,s){var a,h,c=0;do{(a=p(h=i+(n-i)/2,e,s)-t)>0?n=h:i=h}while(Math.abs(a)>o&&++c<r);return h}(i,h,h+a,t,c)}return function(t){return 0===t?0:1===t?1:p(y(t),i,u)}}},function(t,i,n){var e;!function(){function o(t,i,n){return t.call.apply(t.bind,arguments)}function r(t,i,n){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,e),t.apply(i,n)}}return function(){return t.apply(i,arguments)}}function s(t,i,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r).apply(null,arguments)}var a=Date.now||function(){return+new Date};function h(t,i){this.a=t,this.o=i||t,this.c=this.o.document}var c=!!window.FontFace;function u(t,i,n,e){if(i=t.c.createElement(i),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?i.style.cssText=n[o]:i.setAttribute(o,n[o]));return e&&i.appendChild(t.c.createTextNode(e)),i}function l(t,i,n){(t=t.c.getElementsByTagName(i)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,i,n){i=i||[],n=n||[];for(var e=t.className.split(/\s+/),o=0;o<i.length;o+=1){for(var r=!1,s=0;s<e.length;s+=1)if(i[o]===e[s]){r=!0;break}r||e.push(i[o])}for(i=[],o=0;o<e.length;o+=1){for(r=!1,s=0;s<n.length;s+=1)if(e[o]===n[s]){r=!0;break}r||i.push(e[o])}t.className=i.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,i){for(var n=t.className.split(/\s+/),e=0,o=n.length;e<o;e++)if(n[e]==i)return!0;return!1}function g(t,i,n){function e(){a&&o&&r&&(a(s),a=null)}i=u(t,"link",{rel:"stylesheet",href:i,media:"all"});var o=!1,r=!0,s=null,a=n||null;c?(i.onload=function(){o=!0,e()},i.onerror=function(){o=!0,s=Error("Stylesheet failed to load"),e()}):setTimeout(function(){o=!0,e()},0),l(t,"head",i)}function y(t,i,n,e){var o=t.c.getElementsByTagName("head")[0];if(o){var r=u(t,"script",{src:i}),s=!1;return r.onload=r.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},e||5e3),r}return null}function v(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,_(t)}}function w(t,i){t.c=i,_(t)}function _(t){0==t.a&&t.c&&(t.c(),t.c=null)}function O(t){this.a=t||"-"}function x(t,i){this.c=t,this.f=4,this.a="n";var n=(i||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function C(t){var i=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var e=t[n].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?i.push("'"+e+"'"):i.push(e)}return i.join(",")}function b(t){return t.a+t.f}function k(t){var i="normal";return"o"===t.a?i="oblique":"i"===t.a&&(i="italic"),i}function S(t){var i=4,n="n",e=null;return t&&((e=t.match(/(normal|oblique|italic)/i))&&e[1]&&(n=e[1].substr(0,1).toLowerCase()),(e=t.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?i=7:/[1-9]00/.test(e[1])&&(i=parseInt(e[1].substr(0,1),10)))),n+i}function P(t,i){this.c=t,this.f=t.o.document.documentElement,this.h=i,this.a=new O("-"),this.j=!1!==i.events,this.g=!1!==i.classes}function E(t){if(t.g){var i=d(t.f,t.a.c("wf","active")),n=[],e=[t.a.c("wf","loading")];i||n.push(t.a.c("wf","inactive")),f(t.f,n,e)}T(t,"inactive")}function T(t,i,n){t.j&&t.h[i]&&(n?t.h[i](n.c,b(n)):t.h[i]())}function L(){this.c={}}function H(t,i){this.c=t,this.f=i,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function A(t){l(t.c,"body",t.a)}function j(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+C(t.c)+";font-style:"+k(t)+";font-weight:"+t.f+"00;"}function D(t,i,n,e,o,r){this.g=t,this.j=i,this.a=e,this.c=n,this.f=o||3e3,this.h=r||void 0}function W(t,i,n,e,o,r,s){this.v=t,this.B=i,this.c=n,this.a=e,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new H(this.c,this.s),this.h=new H(this.c,this.s),this.j=new H(this.c,this.s),this.m=new H(this.c,this.s),t=j(t=new x(this.a.c+",serif",b(this.a))),this.g.a.style.cssText=t,t=j(t=new x(this.a.c+",sans-serif",b(this.a))),this.h.a.style.cssText=t,t=j(t=new x("serif",b(this.a))),this.j.a.style.cssText=t,t=j(t=new x("sans-serif",b(this.a))),this.m.a.style.cssText=t,A(this.g),A(this.h),A(this.j),A(this.m)}O.prototype.c=function(t){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return i.join(this.a)},D.prototype.start=function(){var t=this.c.o.document,i=this,n=a(),e=new Promise(function(e,o){!function r(){a()-n>=i.f?o():t.fonts.load(function(t){return k(t)+" "+t.f+"00 300px "+C(t.c)}(i.a),i.h).then(function(t){1<=t.length?e():setTimeout(r,25)},function(){o()})}()}),o=null,r=new Promise(function(t,n){o=setTimeout(n,i.f)});Promise.race([r,e]).then(function(){o&&(clearTimeout(o),o=null),i.g(i.a)},function(){i.j(i.a)})};var M={D:"serif",C:"sans-serif"},I=null;function B(){if(null===I){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);I=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return I}function z(t,i,n){for(var e in M)if(M.hasOwnProperty(e)&&i===t.f[M[e]]&&n===t.f[M[e]])return!0;return!1}function F(t){var i,n=t.g.a.offsetWidth,e=t.h.a.offsetWidth;(i=n===t.f.serif&&e===t.f["sans-serif"])||(i=B()&&z(t,n,e)),i?a()-t.A>=t.w?B()&&z(t,n,e)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?q(t,t.v):q(t,t.B):function(t){setTimeout(s(function(){F(this)},t),50)}(t):q(t,t.v)}function q(t,i){setTimeout(s(function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),i(this.a)},t),0)}function R(t,i,n){this.c=t,this.a=i,this.f=0,this.m=this.j=!1,this.s=n}W.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),F(this)};var N=null;function X(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),T(t,"active")):E(t.a))}function Y(t){this.j=t,this.a=new L,this.h=0,this.f=this.g=!0}function U(t,i,n,e,o){var r=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,a=e||{};if(0===n.length&&r)E(i.a);else{i.f+=n.length,r&&(i.j=r);var h,c=[];for(h=0;h<n.length;h++){var u=n[h],l=a[u.c],p=i.a,d=u;if(p.g&&f(p.f,[p.a.c("wf",d.c,b(d).toString(),"loading")]),T(p,"fontloading",d),p=null,null===N)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);N=d?42<parseInt(d[1],10):!g}else N=!1;p=N?new D(s(i.g,i),s(i.h,i),i.c,u,i.s,l):new W(s(i.g,i),s(i.h,i),i.c,u,i.s,t,l),c.push(p)}for(h=0;h<c.length;h++)c[h].start()}},0)}function V(t,i){this.c=t,this.a=i}function Z(t,i){this.c=t,this.a=i}function J(t,i){this.c=t||K,this.a=[],this.f=[],this.g=i||""}R.prototype.g=function(t){var i=this.a;i.g&&f(i.f,[i.a.c("wf",t.c,b(t).toString(),"active")],[i.a.c("wf",t.c,b(t).toString(),"loading"),i.a.c("wf",t.c,b(t).toString(),"inactive")]),T(i,"fontactive",t),this.m=!0,X(this)},R.prototype.h=function(t){var i=this.a;if(i.g){var n=d(i.f,i.a.c("wf",t.c,b(t).toString(),"active")),e=[],o=[i.a.c("wf",t.c,b(t).toString(),"loading")];n||e.push(i.a.c("wf",t.c,b(t).toString(),"inactive")),f(i.f,e,o)}T(i,"fontinactive",t),X(this)},Y.prototype.load=function(t){this.c=new h(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,i,n){var e=[],o=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),T(t,"loading")}(i);var e=function(t,i,n){var e,o=[];for(e in i)if(i.hasOwnProperty(e)){var r=t.c[e];r&&o.push(r(i[e],n))}return o}(t.a,n,t.c),r=new R(t.c,i,o);for(t.h=e.length,i=0,n=e.length;i<n;i++)e[i].load(function(i,n,e){U(t,r,i,n,e)})}(this,new P(this.c,t),t)},V.prototype.load=function(t){var i=this,n=i.a.projectId,e=i.a.version;if(n){var o=i.c.o;y(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(e?"?v="+e:""),function(e){e?t([]):(o["__MonotypeConfiguration__"+n]=function(){return i.a},function i(){if(o["__mti_fntLst"+n]){var e,r=o["__mti_fntLst"+n](),s=[];if(r)for(var a=0;a<r.length;a++){var h=r[a].fontfamily;null!=r[a].fontStyle&&null!=r[a].fontWeight?(e=r[a].fontStyle+r[a].fontWeight,s.push(new x(h,e))):s.push(new x(h))}t(s)}else setTimeout(function(){i()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},Z.prototype.load=function(t){var i,n,e=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},s=new v;for(i=0,n=e.length;i<n;i++)g(this.c,e[i],m(s));var a=[];for(i=0,n=o.length;i<n;i++)if((e=o[i].split(":"))[1])for(var h=e[1].split(","),c=0;c<h.length;c+=1)a.push(new x(e[0],h[c]));else a.push(new x(e[0]));w(s,function(){t(a,r)})};var K="https://fonts.googleapis.com/css";function G(t){this.f=t,this.a=[],this.c={}}var $={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},it=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,i){this.c=t,this.a=i}var et={Arimo:!0,Cousine:!0,Tinos:!0};function ot(t,i){this.c=t,this.a=i}function rt(t,i){this.c=t,this.f=i,this.a=[]}nt.prototype.load=function(t){var i=new v,n=this.c,e=new J(this.a.api,this.a.text),o=this.a.families;!function(t,i){for(var n=i.length,e=0;e<n;e++){var o=i[e].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}(e,o);var r=new G(o);!function(t){for(var i=t.f.length,n=0;n<i;n++){var e=t.f[n].split(":"),o=e[0].replace(/\+/g," "),r=["n4"];if(2<=e.length){var s;if(s=[],a=e[1])for(var a,h=(a=a.split(",")).length,c=0;c<h;c++){var u;if((u=a[c]).match(/^[\w-]+$/))if(null==(p=it.exec(u.toLowerCase())))u="";else{if(u=null==(u=p[2])||""==u?"n":tt[u],null==(p=p[1])||""==p)p="4";else var l=Q[p],p=l||(isNaN(p)?"4":p.substr(0,1));u=[u,p].join("")}else u="";u&&s.push(u)}0<s.length&&(r=s),3==e.length&&(s=[],0<(e=(e=e[2])?e.split(","):s).length&&(e=$[e[0]])&&(t.c[o]=e))}for(t.c[o]||(e=$[o])&&(t.c[o]=e),e=0;e<r.length;e+=1)t.a.push(new x(o,r[e]))}}(r),g(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var i=t.a.length,n=[],e=0;e<i;e++)n.push(t.a[e].replace(/ /g,"+"));return i=t.c+"?family="+n.join("%7C"),0<t.f.length&&(i+="&subset="+t.f.join(",")),0<t.g.length&&(i+="&text="+encodeURIComponent(t.g)),i}(e),m(i)),w(i,function(){t(r.a,r.c,et)})},ot.prototype.load=function(t){var i=this.a.id,n=this.c.o;i?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+i+".js",function(i){if(i)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){i=n.Typekit.config.fn;for(var e=[],o=0;o<i.length;o+=2)for(var r=i[o],s=i[o+1],a=0;a<s.length;a++)e.push(new x(r,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(e)}},2e3):t([])},rt.prototype.load=function(t){var i=this.f.id,n=this.c.o,e=this;i?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[i]=function(i,n){for(var o=0,r=n.fonts.length;o<r;++o){var s=n.fonts[o];e.a.push(new x(s.name,S("font-weight:"+s.weight+";font-style:"+s.style)))}t(e.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+i+".js",function(i){i&&t([])})):t([])};var st=new Y(window);st.a.c.custom=function(t,i){return new Z(i,t)},st.a.c.fontdeck=function(t,i){return new rt(i,t)},st.a.c.monotype=function(t,i){return new V(i,t)},st.a.c.typekit=function(t,i){return new ot(i,t)},st.a.c.google=function(t,i){return new nt(i,t)};var at={load:s(st.load,st)};void 0===(e=function(){return at}.call(i,n,i,t))||(t.exports=e)}()},function(t,i,n){var e;t.exports=function t(i,n,o){function r(a,h){if(!n[a]){if(!i[a]){var c="function"==typeof e&&e;if(!h&&c)return e(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};i[a][0].call(l.exports,function(t){var n=i[a][1][t];return r(n||t)},l,l.exports,t,i,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,i,n){i.exports=function(i){if("function"!=typeof Map||i){var n=t("./similar");return new n}return new Map}},{"./similar":2}],2:[function(t,i,n){function e(){return this.list=[],this.lastItem=void 0,this.size=0,this}e.prototype.get=function(t){var i;return this.lastItem&&this.isEqual(this.lastItem.key,t)?this.lastItem.val:(i=this.indexOf(t))>=0?(this.lastItem=this.list[i],this.list[i].val):void 0},e.prototype.set=function(t,i){var n;return this.lastItem&&this.isEqual(this.lastItem.key,t)?(this.lastItem.val=i,this):(n=this.indexOf(t))>=0?(this.lastItem=this.list[n],this.list[n].val=i,this):(this.lastItem={key:t,val:i},this.list.push(this.lastItem),this.size++,this)},e.prototype.delete=function(t){var i;if(this.lastItem&&this.isEqual(this.lastItem.key,t)&&(this.lastItem=void 0),(i=this.indexOf(t))>=0)return this.size--,this.list.splice(i,1)[0]},e.prototype.has=function(t){var i;return!(!this.lastItem||!this.isEqual(this.lastItem.key,t))||(i=this.indexOf(t))>=0&&(this.lastItem=this.list[i],!0)},e.prototype.forEach=function(t,i){var n;for(n=0;n<this.size;n++)t.call(i||this,this.list[n].val,this.list[n].key,this)},e.prototype.indexOf=function(t){var i;for(i=0;i<this.size;i++)if(this.isEqual(this.list[i].key,t))return i;return-1},e.prototype.isEqual=function(t,i){return t===i||t!=t&&i!=i},i.exports=e},{}]},{},[1])(1)},function(t,i){(function(i){t.exports=i}).call(this,{})},function(t,i,n){"use strict";n.r(i);var e=function(){function t(t,i,n,e){this.top=t,this.left=i,this.bottom=n,this.right=e}return t.prototype.height=function(){return this.top+this.bottom},t.prototype.width=function(){return this.left+this.right},t.prototype.scale=function(i){return new t(this.top*i,this.left*i,this.bottom*i,this.right*i)},t.even=function(i){return new t(i,i,i,i)},t}(),o=n(0),r=n.n(o),s={fontFamily:"PT Serif",fontStyle:"Normal",fontWeight:"400",fontSizes:[35,30,25],widthTiers:[670,500,300],testCanvasFontSizeMultiple:5,testCanvasWidth:800,restartAndProgressSize:28,restartAndProgressPadding:16,progressOpacity:.15,defaultVBoxPadding:0,defaultRootVBoxPadding:new e(20,0,20,0),defaultHBoxPadding:0,defaultTightHBoxPadding:0,defaultSubSuperPadding:e.even(0),defaultRootPadding:e.even(0),defaultQuizPadding:new e(0,10,0,10),defaultTablePadding:e.even(2),termPadding:new e(10,5,10,5),tightTermPadding:new e(5,2,5,2),hDividerPadding:new e(0,3,0,3),vDividerPadding:new e(3,0,3,0),expScale:.575,defaultExpPortrusion:.1,rootArgMarginLeft:7,rootIndexScale:.5,rootKinkTipAngle:Math.PI/2,rootKinkTipLength:3,curvedOutlineBorderRadius:5,curvedOutlineDefaultOpacity:.3,curvedOutlineColor:[255,255,255],radioButtonDefaultOpacity:.3,radioButtonColor:[255,255,255],answerVMargin:20,hoveredOutlineOpacity:.75,revealedOutlineOpacity:1,outlineFadeInDuration:300,outlineFadeInEasing:r()(.5,.5,.5,.5),quizCorrectColor:[100,221,23],quizIncorrectColor:[198,40,40],quizCurvedOutlinePadding:new e(0,5,0,5),quizRadioButtonDimen:35,quizRadioButtonPadding:e.even(10),quizRadioButtonSelectDuration:300,quizRadioButtonSelectEasing:r()(0,0,.2,1),quizRadioButtonDeselectDuration:300,quizRadioButtonDeselectEasing:r()(.4,0,1,1),creatorContainerPadding:e.even(30),creatorHDividerPadding:new e(5,15,5,15),creatorVDividerPadding:new e(15,5,15,5),creatorSelectableHDividerPadding:new e(5,0,5,0),creatorSelectableVDividerPadding:new e(0,5,0,5),creatorContainerStroke:"rgb(175, 175, 175)",creatorCaretFillStyle:"#eee",creatorCaretFillStyleLighter:"#777",creatorCaretSize:5,creatorLineDash:[2],creatorErrorTimeout:5e3,creatorTableMinCellDimen:30,creatorPlusLineHalfLength:5,addDuration:700,addEasing:r()(0,0,.2,1),moveDuration:700,moveEasing:r()(.4,0,.2,1),removeDuration:400,removeEasing:r()(.4,0,1,1),progressEasing:r()(.4,0,.2,1),colors:{red:[229,57,53],pink:[247,18,171],purple:[170,0,255],blue:[27,158,245],teal:[0,181,193],green:[88,199,75],orange:[255,102,0],default:[255,255,255]},fadedOpacity:.5,normalOpacity:.75,focusedOpacity:1,backgroundColor:[0,0,0],buttonHighlightedOpacity:1,buttonHighlightDuration:200,buttonHighlightEasing:r()(0,0,.2,1),buttonUnhighlightDuration:200,buttonUnhighlightEasing:r()(.4,0,1,1)},a=function(){function t(t){this.padding=t}return t.prototype.setWidth=function(t){this.width=t},t.prototype.setHeight=function(t){this.height=t},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getPadding=function(){return this.padding},t.prototype.recalcDimensions=function(){this.width=this.calcWidth(),this.height=this.calcHeight()},t.prototype.getMainTextLine=function(){},t}(),h=n(2),c=n.n(h);function u(t){var i=t[0],n=t[1],e=t[2],o=t[3];return void 0!==o?"rgba("+i+","+n+","+e+","+o+")":"rgb("+i+","+n+","+e+")"}function l(t){var i=document.createElement("style"),n="";Object.keys(t||s.colors).forEach(function(t){var i=s.colors[t];n+="."+t+" { color: "+u(i)+"}"}),i.appendChild(document.createTextNode(n)),document.head.appendChild(i)}function p(t){if(t.font){if("c"===t.font.type)return[(i=t.font).name,i.style,i.weight];if("g"===t.font.type){var i,n=(i=t.font).name.split(":"),e=n[0];return n[1]?"i"===n[1].charAt(n[1].length-1)?[e,"italic",n[1].substring(0,n[1].length-1)]:[e,s.fontStyle,n[1]]:[e,s.fontStyle,s.fontWeight]}throw"Unrecognized custom font type"}return[s.fontFamily,s.fontStyle,s.fontWeight]}function f(t){for(var i=[],n=function(n){var e={};i.push(e),e.widths=[];var o=0,r=0;t.terms.forEach(function(i){var a=function(t,i,n){var e={},o=m(i),r=p(n),a=r[0],h=r[1],c=r[2],u=document.createElement("canvas");u.width=s.testCanvasWidth,u.height=o*s.testCanvasFontSizeMultiple;var l=u.getContext("2d");l.font=c+" "+h+" "+o+"px "+a,e.width=l.measureText(t).width,l.fillStyle="white",l.fillRect(0,0,u.width,u.height),l.fillStyle="black",l.fillText(t,0,u.height/2);var f=l.getImageData(0,0,e.width,u.height),d=f.data,g=0;for(;++g<d.length&&255===d[g];);var y=g/(4*f.width);g=d.length-1;for(;--g>0&&255===d[g];);var v=g/(4*f.width);return e.ascent=u.height/2-y,e.descent=v-u.height/2,e}(i,n,t);a.ascent>o&&(o=a.ascent),a.descent>r&&(r=a.descent),e.widths.push(a.width)}),e.ascent=o,e.height=o+r},e=0;e<s.widthTiers.length;e++)n(e);return i}var d=window.navigator.userAgent,g=d.indexOf("MSIE ")>-1||d.indexOf("Trident/")>-1||d.indexOf("Edge/")>-1;function y(t,i,n,e,o){o.beginPath(),o.moveTo(t,i),o.lineTo(n,e),o.stroke()}function v(){for(var t=window.innerWidth,i=0;i<s.widthTiers.length;i++)if(t>s.widthTiers[i])return i;return s.widthTiers.length-1}function m(t){return s.fontSizes[t]}window.currentWidthTier=v(),window.addEventListener("resize",function(){window.currentWidthTier=v()});var w="function"==typeof window.Map;function _(){return w?new window.Map:new c.a}var O,x,C,b=(O=function(t,i){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}O(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),k=function(t){function i(i,n){var e=t.call(this,i)||this;return e.interpColor=!0,e.ref=n,e}return b(i,t),i.prototype.setupCtx=function(t,i,n,e){var o=1-n,r=t.tlx*o+i.tlx*n,s=t.tly*o+i.tly*n,a=t.width*o+i.width*n,h=t.height*o+i.height*n,c=t.scale*o+i.scale*n;return e.translate(r+a/2,s+h/2),e.scale(c,c),this.setupCtxStyle(t,i,n,e),[a,h]},i.prototype.setupCtxStyle=function(t,i,n,e){if(0===n){var o=t.color,r=i.color;this.interpColor=o[0]!==r[0]||o[1]!==r[1]||o[2]!==r[2]||t.opacity!==i.opacity}var s=t.color,a=t.opacity;if(this.interpColor){var h=1-n,c=t.color[0]*h+i.color[0]*n,u=t.color[1]*h+i.color[1]*n,l=t.color[2]*h+i.color[2]*n,p=t.opacity*h+i.opacity*n;s=[Math.round(c),Math.round(u),Math.round(l)],a=p}this.setCtxStyle(e,s,a)},i.prototype.setCtxStyle=function(t,i,n){var e=u(i.concat([n]));t.fillStyle=e,t.strokeStyle=e},i.prototype.getColorForContent=function(t){return void 0!==t&&void 0!==t[this.ref]?i.colors[t[this.ref]]:i.colors.default},i.prototype.getOpacityForContent=function(t){return void 0!==t&&void 0!==t[this.ref]?t[this.ref]:s.normalOpacity},i.prototype.interpColorOff=function(){this.interpColor=!1},i.prototype.getRef=function(){return this.ref},i}(a),S=function(){function t(t,i,n,e,o,r,s){this.tlx=n,this.tly=e,this.width=o,this.height=r,this.component=i,this.layoutParent=t,this.scale=s}return t.prototype.contains=function(t,i){return t>=this.tlx&&t<=this.tlx+this.width&&i>=this.tly&&i<=this.tly+this.height},t.prototype.onLeft=function(t){return t<=this.tlx+this.width/2},t.prototype.onTop=function(t){return t<=this.tly+this.height/2},t.prototype.withZeroScale=function(){return new t(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0)},t}(),P=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),E=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,i,n,e,o,r,s,a)||this;return u.color=h,u.opacity=c,u}return P(i,t),i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0)},i}(S),T=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),L=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.padding=s.termPadding,i}return T(i,t),i.prototype.tighten=function(t){this.padding=s.tightTermPadding,this.width-=t},i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0)},i}(E),H=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),A=function(t){function i(i,n,e,o,r){var a=t.call(this,s.termPadding,r)||this;return a.widths=n,a.heights=e,a.halfInnerWidths=a.widths.map(function(t){return t/2}),a.halfInnerHeights=a.heights.map(function(t){return t/2}),a.ascents=o,a.recalcDimensions(),a.text=i,a}return H(i,t),i.prototype.recalcDimensions=function(){t.prototype.recalcDimensions.call(this);var i=window.currentWidthTier;this.halfInnerWidth=this.halfInnerWidths[i],this.halfInnerHeight=this.halfInnerHeights[i],this.ascent=this.ascents[i]},i.prototype.getMainTextLine=function(){return[this.padding.top,this.height-this.padding.bottom]},i.prototype.calcHeight=function(){var t=window.currentWidthTier;return this.heights[t]+this.padding.height()},i.prototype.calcWidth=function(){var t=window.currentWidthTier;return this.widths[t]+this.padding.width()},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=new L(t,this,n,e,this.width*o,this.height*o,o,this.getColorForContent(s),this.getOpacityForContent(r));return i.set(this,a),a},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e),e.fillText(this.text,-this.halfInnerWidth,-this.halfInnerHeight+this.ascent)},i}(k),j=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),D=function(t){function i(i){return t.call(this,i)||this}return j(i,t),i}(a),W=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),M=function(t){function i(i,n){var e=t.call(this,n)||this;return e.children=i,e}return W(i,t),i.prototype.getChildren=function(){return this.children},i.prototype.recalcDimensions=function(){this.children.forEach(function(t){return t.recalcDimensions()}),t.prototype.recalcDimensions.call(this)},i}(D),I=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),B=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.width=e.calcWidth(),e.height=e.calcHeight(),e}return I(i,t),i.prototype.calcHeight=function(){for(var t=_(),i=_(),n=0;n<this.children.length;n++){var e=this.children[n],o=e.getMainTextLine();void 0===o?i.set(e,void 0):t.set(e,o)}var r,s=0,a=0;t.forEach(function(t,i){r=t[1]-t[0];var n=i.getHeight(),e=(t[0]+t[1])/2,o=n-e;e>s&&(s=e),o>a&&(a=o)});var h=s,c=a;if(i.forEach(function(t,i){var n=i.getHeight()/2;n>h&&(h=n),n>c&&(c=n)}),0===t.size){this.mainLine=void 0;var u=h+c+this.padding.height();return this.middleMainLineDist=u/2,u}var l=h>s?h-s:0,p=this.padding.top+l+s-r/2,f=p+r;return this.middleMainLineDist=p+(f-p)/2,this.mainLine=[p,f],h+c+this.padding.height()},i.prototype.calcWidth=function(){for(var t=0,i=0;i<this.children.length;i++){t+=this.children[i].getWidth()}return t+this.padding.width()},i.prototype.getMainTextLine=function(){return this.mainLine.slice()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var l=new S(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),p=n+this.padding.left*o,f=0;f<this.children.length;f++){var d=this.children[f],g=d.getHeight()*o,y=d.getMainTextLine(),v=e;y?(y[0]*=o,y[1]*=o,v+=this.middleMainLineDist*o-(y[1]+y[0])/2):v+=this.middleMainLineDist*o-g/2,p+=d.addLayout(l,i,p,v,o,r,s,a,h,c,u).width}return i.set(this,l),l},i}(M),z=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),F=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.width=e.calcWidth(),e.height=e.calcHeight(),e}return z(i,t),i.prototype.calcHeight=function(){for(var t=0,i=0;i<this.children.length;i++)t+=this.children[i].getHeight();return t+this.padding.height()},i.prototype.calcWidth=function(){for(var t=0,i=0;i<this.children.length;i++){var n=this.children[i].getWidth();n>t&&(t=n)}return t+this.padding.width()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var l=new S(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),p=(this.getWidth()-this.padding.width())*o,f=e+this.padding.top*o,d=0;d<this.children.length;d++){var g=this.children[d],y=(p-g.getWidth()*o)/2+this.padding.left*o+n;f+=g.addLayout(l,i,y,f,o,r,s,a,h,c,u).height}return i.set(this,l),l},i}(M),q=function(){function t(t,i,n,e,o,r){this.stopped=!1,this.animations=[],this.done=t,this.ctx=i,this.clearWidth=n,this.clearHeight=e,this.states=r,this.clearFill=o}return t.prototype.addAnimation=function(t){this.animations.push(t)},t.prototype.start=function(){this.numRunning=this.animations.length;var t=this,i=function(n){t.ctx.save(),t.ctx.fillStyle=t.clearFill,t.ctx.fillRect(0,0,t.clearWidth,t.clearHeight),t.ctx.restore(),t.animations.forEach(function(t){t.run(n)}),t.states&&t.states.forEach(function(i){i.component instanceof k&&(t.ctx.save(),i.component.draw(i,i,1,t.ctx),t.ctx.restore())}),t.numRunning>0&&!t.stopped&&requestAnimationFrame(i)};requestAnimationFrame(i)},t.prototype.finished=function(){this.numRunning--,0===this.numRunning&&this.done&&this.done()},t.prototype.stop=function(){this.stopped=!0,this.done&&this.done()},t}(),R=function(){function t(t,i,n){this.done=!1,this.startTime=-1,this.duration=t,this.easing=i,this.set=n}return t.prototype.run=function(t){if(this.done)this.step(1);else{if(-1===this.startTime)return this.startTime=t,void this.step(0);var i=t-this.startTime;i>=this.duration?(this.step(1),this.set.finished(),this.done=!0):this.step(this.easing(i/this.duration))}},t}(),N=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),X=function(t){function i(i,n,e,o,r,s,a){var h=t.call(this,i,n,e)||this;return h.before=o,h.after=r,h.component=s,h.ctx=a,h}return N(i,t),i.prototype.step=function(t){this.ctx.save(),this.component.draw(this.before,this.after,t,this.ctx),this.ctx.restore()},i}(R),Y=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),U=function(t){function i(i,n,e,o,r){return t.call(this,r,s.moveEasing,e,i,n,n.component,o)||this}return Y(i,t),i}(X),V=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Z=function(t){function i(i,n,e,o){return t.call(this,o,s.removeEasing,n,i,i.withZeroScale(),i.component,e)||this}return V(i,t),i}(X),J=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),K=function(t){function i(i,n,e,o){return t.call(this,o,s.addEasing,n,i.withZeroScale(),i,i.component,e)||this}return J(i,t),i}(X),G=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),$=function(t){function i(i,n,e,o,r){return t.call(this,r,s.moveEasing,e,i,n.withZeroScale(),i.component,o)||this}return G(i,t),i}(X),Q=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),tt=function(t){function i(i,n,e,o,r){return t.call(this,r,s.moveEasing,e,i.withZeroScale(),n,n.component,o)||this}return Q(i,t),i}(X),it=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),nt=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,s,a,r)||this;return u.startCompletion=i/(e-1),u.endCompletion=n/(e-1),u.pi=o,u.canvasWidth=h,u.canvasHeight=c,u}return it(i,t),i.prototype.step=function(t){var i=this.startCompletion*(1-t)+this.endCompletion*t;this.pi.draw(i,this.canvasWidth,this.canvasHeight)},i}(R),et=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),ot=function(t){function i(i,n,e,o,r,s,a,h,c,u,l){var p=t.call(this,i,n,e,o,r,s,a,h,c)||this;return p.origInnerWidth=u,p.origInnerHeight=l,p}return et(i,t),i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0,this.origInnerWidth,this.origInnerHeight)},i}(E),rt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),st=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.height=e.calcHeight(),e.width=e.calcWidth(),e}return rt(i,t),i.prototype.setPadding=function(t){this.padding=t},i.prototype.calcWidth=function(){return 0},i.prototype.calcHeight=function(){return 1+this.padding.height()},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=t.tlx,h=t.width,c=this.getHeight(),u=new ot(t,this,a,e,h,c,o,this.getColorForContent(s),this.getOpacityForContent(r),h/o,c);return i.set(this,u),u},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e);var o=t.origInnerWidth*(1-n)+i.origInnerWidth*n;y(-o/2+this.padding.left,0,o/2-this.padding.right,0,e)},i}(k),at=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),ht=s.termPadding.width()-s.tightTermPadding.width(),ct=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return at(i,t),i.prototype.calcWidth=function(){for(var t=0,i=0,n=0;n<this.children.length;n++){var e=this.children[n];t+=e.getWidth(),e instanceof A&&i++}return t+this.padding.width()-i*ht},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var l=new S(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),p=n+this.padding.left*o,f=0;f<this.children.length;f++){var d=this.children[f],g=d.getHeight()*o,y=this.middleMainLineDist*o-g/2+e,v=d.addLayout(l,i,p,y,o,r,s,a,h,c,u);d instanceof A&&v.tighten(ht*o),p+=v.width}return i.set(this,l),l},i}(B),ut=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),lt=function(t){function i(i,n,e,o,r){var s=t.call(this,r)||this;return s.portrusionProportion=o,s.top=i,s.middle=n,s.bottom=e,s.recalcPortrusion(),s.height=s.calcHeight(),s.width=s.calcWidth(),s}return ut(i,t),i.prototype.recalcPortrusion=function(){this.topPortrusion=this.top.getHeight()*s.expScale*this.portrusionProportion,this.bottomPortrusion=this.bottom.getHeight()*s.expScale*this.portrusionProportion},i.prototype.recalcDimensions=function(){this.top.recalcDimensions(),this.middle.recalcDimensions(),this.bottom.recalcDimensions(),this.recalcPortrusion(),t.prototype.recalcDimensions.call(this)},i.prototype.getMainTextLine=function(){var t=this.middle.getMainTextLine(),i=this.topPortrusion+this.padding.top;return t[0]+=i,t[1]+=i,t},i.prototype.calcWidth=function(){var t=Math.max(this.top.getWidth()*s.expScale,this.bottom.getWidth()*s.expScale);return this.middle.getWidth()+t+this.padding.width()},i.prototype.calcHeight=function(){return this.middle.getHeight()+this.topPortrusion+this.bottomPortrusion+this.padding.height()},i.prototype.addLayout=function(t,i,n,e,o,r,a,h,c,u,l){var p=new S(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),f=this.middle.addLayout(p,i,n+this.padding.left*o,e+(this.topPortrusion+this.padding.top)*o,o,r,a,h,c,u,l),d=f.tlx+f.width;return this.top.addLayout(p,i,d,e+this.padding.top*o,o*s.expScale,r,a,h,c,u,l),this.bottom.addLayout(p,i,d,e+p.height-(this.padding.bottom+this.bottom.getHeight()*s.expScale)*o,o*s.expScale,r,a,h,c,u,l),i.set(this,p),p},i}(D),pt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),ft=function(t){function i(i){var n=t.call(this,e.even(0),i)||this;return n.height=n.calcHeight(),n.width=n.calcWidth(),n}return pt(i,t),i.prototype.calcWidth=function(){return 0},i.prototype.calcHeight=function(){return 0},i.prototype.draw=function(t,i,n,e){var o=t.layoutParent,r=i.layoutParent,s=1-n,a=o.kinkTipX*s+r.kinkTipX*n,h=o.kinkTipY*s+r.kinkTipY*n,c=o.kinkTopX*s+r.kinkTopX*n,u=o.kinkTopY*s+r.kinkTopY*n,l=o.tickBotX*s+r.tickBotX*n,p=o.tickBotY*s+r.tickBotY*n,f=o.tickTopX*s+r.tickTopX*n,d=o.tickTopY*s+r.tickTopY*n,g=o.endX*s+r.endX*n,v=o.endY*s+r.endY*n,m=t.origInnerWidth*s+i.origInnerWidth*n,w=t.origInnerHeight*s+i.origInnerHeight*n;this.setupCtx(t,i,n,e);var _=-m/2,O=-w/2;y(_+a,O+h,_+c,O+u,e),y(_+c,O+u,_+l,O+p,e),y(_+l,O+p,_+f,O+d,e),y(_+f,O+d,_+g,O+v,e)},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=t.component.getPadding().scale(o),h=a.width(),c=a.height(),u=new ot(t,this,n+h/2,e+c/2,t.width-h,t.height-c,o,this.getColorForContent(s),this.getOpacityForContent(r),(t.width-h)/o,(t.height-c)/o);return i.set(this,u),u},i}(k),dt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),gt=function(t){function i(i,n,e,o,r,s,a,h,c,u,l,p,f,d,g,y,v){var m=t.call(this,i,n,e,o,r,s,a)||this;return m.kinkTipX=h,m.kinkTipY=c,m.kinkTopX=u,m.kinkTopY=l,m.tickBotX=p,m.tickBotY=f,m.tickTopX=d,m.tickTopY=g,m.endX=y,m.endY=v,m}return dt(i,t),i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.kinkTipX,this.kinkTipY,this.kinkTopX,this.kinkTopY,this.tickBotX,this.tickBotY,this.tickTopX,this.tickTopY,this.endX,this.endY)},i}(S),yt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),vt=function(t){function i(i,n,e,o,r){var s=t.call(this,o)||this;return s.index=i,s.argument=n,s.radical=e,void 0===s.termHeights||0===s.termHeights.length?s.termHeights=[20,20,20]:s.termHeights=r,s.calcMetrics(),s.width=s.calcWidth(),s.height=s.calcHeight(),s}return yt(i,t),i.prototype.calcMetrics=function(){this.padBottom=s.termPadding.bottom/2;var t=this.termHeights[v()]+s.termPadding.height();this.indexHeight=t*s.rootIndexScale,this.kinkHeight=t-this.padBottom-this.indexHeight,this.indexTopOverflow=this.index.getHeight()*s.rootIndexScale-this.indexHeight,this.indexTopOverflow=Math.max(this.indexTopOverflow,0),this.emptySpaceAboveIndex=this.argument.getHeight()-this.kinkHeight-this.indexHeight,this.emptySpaceAboveIndex=Math.max(this.emptySpaceAboveIndex,0);var i=Math.atan(t/s.rootArgMarginLeft),n=this.kinkHeight/Math.tan(i),e=Math.PI-i-Math.PI/2,o=s.rootKinkTipAngle-e;this.kinkTipWidth=s.rootKinkTipLength*Math.sin(o),this.kinkWidth=n+this.kinkTipWidth,this.kinkTipHeight=s.rootKinkTipLength*Math.cos(o),this.yToKinkStart=this.indexTopOverflow+this.emptySpaceAboveIndex+this.indexHeight+this.kinkTipHeight-this.padBottom;var r=this.kinkHeight/Math.tan(i),a=this.kinkWidth+r,h=this.index.getWidth()*s.rootIndexScale;this.indexLeftOverflow=h-a},i.prototype.recalcDimensions=function(){this.radical.recalcDimensions(),this.argument.recalcDimensions(),this.index.recalcDimensions(),this.calcMetrics(),t.prototype.recalcDimensions.call(this)},i.prototype.getMainTextLine=function(){var t=this.argument.getMainTextLine(),i=this.indexTopOverflow+this.padding.top;return t[0]+=i,t[1]+=i,t},i.prototype.calcWidth=function(){return Math.max(this.indexLeftOverflow,0)+this.kinkWidth+s.rootArgMarginLeft+this.argument.getWidth()+this.padding.width()},i.prototype.calcHeight=function(){return this.indexTopOverflow+this.argument.getHeight()+this.padding.height()},i.prototype.addLayout=function(t,i,n,e,o,r,a,h,c,u,l){var p,f=this.padding.scale(o),d=Math.max(this.indexLeftOverflow,0),g=d,y=this.yToKinkStart,v=g+this.kinkTipWidth,m=y-this.kinkTipHeight,w=d+this.kinkWidth,_=m+this.kinkHeight,O=w+s.rootArgMarginLeft,x=_-this.argument.getHeight()+1+this.padBottom,C=O+this.argument.getWidth(),b=x,k=this.getWidth()*o,S=this.getHeight()*o,P=new gt(t,this,n,e,k,S,o,g,y,v,m,w,_,O,x,C,b);p=this.indexLeftOverflow<0?n-this.indexLeftOverflow/2*o:n,p+=f.left-1*o;var E=e+(this.emptySpaceAboveIndex-1-this.padBottom)*o+f.top;this.index.addLayout(P,i,p,E,o*s.rootIndexScale,r,a,h,c,u,l);var T=n+(d+this.kinkWidth+s.rootArgMarginLeft)*o+f.left,L=e+this.indexTopOverflow*o+f.top;return this.argument.addLayout(P,i,T,L,o,r,a,h,c,u,l),this.radical&&this.radical.addLayout(P,i,n,e,o,r,a),i.set(this,P),P},i}(D),mt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),wt=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.calcChildHeight(),e}return mt(i,t),i.prototype.calcChildHeight=function(){var t=this;this.totalChildHeight=0,this.children.forEach(function(i){t.totalChildHeight+=i.getHeight()})},i.prototype.recalcDimensions=function(){t.prototype.recalcDimensions.call(this),this.calcChildHeight()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var l=new S(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),p=(this.getWidth()-this.padding.width())*o,f=e+(this.getHeight()-this.totalChildHeight)/2,d=0;d<this.children.length;d++){var g=this.children[d],y=(p-g.getWidth()*o)/2+this.padding.left*o+n;f+=g.addLayout(l,i,y,f,o,r,s,a,h,c,u).height}return i.set(this,l),l},i}(F),_t=function(){function t(t){this.ctx=t.getContext("2d")}return t.prototype.draw=function(t,i,n){var e=k.colors.default;this.ctx.strokeStyle="rgba("+e[0]+","+e[1]+","+e[2]+","+s.progressOpacity+")",y(0,n-1,i*t,n-1,this.ctx)},t}(),Ot=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),xt=function(t){function i(i,n,e,o,r){var s=t.call(this,i,void 0)||this,a=i.width(),h=i.height();return s.layout=new E(void 0,s,n.tlx-a/2,n.tly-h/2,n.width+a,n.height+h,n.scale,r,o),e.set(s,s.layout),s.width=s.layout.width,s.height=s.layout.height,s}return Ot(i,t),i.prototype.getLayout=function(){return this.layout},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e);var o=this.width/2,r=this.height/2,a=s.curvedOutlineBorderRadius;e.beginPath(),e.moveTo(-o+a,-r),e.lineTo(o-a,-r),e.quadraticCurveTo(o,-r,o,-r+a),e.lineTo(o,r-a),e.quadraticCurveTo(o,r,o-a,r),e.lineTo(-o+a,r),e.quadraticCurveTo(-o,r,-o,r-a),e.lineTo(-o,-r+a),e.quadraticCurveTo(-o,-r,-o+a,-r),e.closePath(),e.stroke()},i.prototype.calcWidth=function(){return this.width},i.prototype.calcHeight=function(){return this.height},i.prototype.addLayout=function(t,i,n,e,o,r,s){},i}(k),Ct=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),bt=function(t){function i(i,n,e){var o=t.call(this,s.outlineFadeInDuration,s.outlineFadeInEasing,e)||this;return o.layout=i,o.startO=o.layout.opacity,o.endO=n,e.addAnimation(o),o}return Ct(i,t),i.prototype.step=function(t){var i=this.startO*(1-t)+this.endO*t;this.layout.opacity=i},i}(R),kt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),St=function(t){function i(i,n,e){var o=t.call(this,s.outlineFadeInDuration,s.outlineFadeInEasing,e)||this;return o.layout=i,o.startColor=o.layout.color,o.endColor=n,e.addAnimation(o),o}return kt(i,t),i.prototype.step=function(t){var i=this.startColor[0]*(1-t)+this.endColor[0]*t,n=this.startColor[1]*(1-t)+this.endColor[1]*t,e=this.startColor[2]*(1-t)+this.endColor[2]*t;this.layout.color=[Math.round(i),Math.round(n),Math.round(e)]},i}(R),Pt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Et=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,void 0,i,n,e,o,r,s,a,h)||this;return u.percentFill=c,u}return Pt(i,t),i.prototype.withZeroScale=function(){return new i(this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0,this.percentFill)},i}(E),Tt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Lt=function(t){function i(i,n,e,o,r,s,a){var h=t.call(this,i,void 0)||this;return h.layout=new Et(h,n,e,o,o,1,a,s,0),h.width=o,h.height=o,r.set(h,h.layout),h}return Tt(i,t),i.prototype.getLayout=function(){return this.layout},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e),e.beginPath();var o=(this.width-this.padding.width())/2;e.arc(0,0,o,0,2*Math.PI),e.closePath(),e.stroke(),e.beginPath();var r=o*(t.percentFill*(1-n)+i.percentFill*n);e.arc(0,0,r,0,2*Math.PI),e.fill()},i.prototype.calcWidth=function(){return this.width},i.prototype.calcHeight=function(){return this.height},i.prototype.addLayout=function(t,i,n,e,o,r,s){},i}(k),Ht=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),At=function(t){function i(i,n,e,o,r,s){var a=t.call(this,i,n,e)||this;return a.layout=o,a.startFill=r,a.endFill=s,e.addAnimation(a),a}return Ht(i,t),i.prototype.step=function(t){var i=this.startFill*(1-t)+this.endFill*t;this.layout.percentFill=i},i}(R),jt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Dt=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,i,n)||this;return u.clickedIndex=-1,u.outlineOpacity=o,u.outlineColor=r,u.radioButtonOpacity=s,u.radioButtonColor=a,u.correctColor=h,u.incorrectColor=c,u.answers=[],e.forEach(function(t){return u.answers[t]=!0}),u}return jt(i,t),i.prototype.calcWidth=function(){return t.prototype.calcWidth.call(this)+s.quizCurvedOutlinePadding.width()+s.quizRadioButtonDimen},i.prototype.calcHeight=function(){return t.prototype.calcHeight.call(this)+s.answerVMargin*(this.children.length+2)},i.prototype.addLayout=function(t,i,n,e,o,r,a,h,c,u,l){for(var p=this,f=new S(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),d=(this.getWidth()-this.padding.width())*o,g=e+this.padding.top*o+s.answerVMargin,y=[],v=[],m=function(t){var e=w.children[t],m=e.getWidth()+s.quizCurvedOutlinePadding.width()+s.quizRadioButtonDimen,_=e.getHeight(),O=n+(d-m)/2,x=new Lt(s.quizRadioButtonPadding,O,g+(_-s.quizRadioButtonDimen)/2,s.quizRadioButtonDimen,i,w.radioButtonOpacity,w.radioButtonColor);l.push(x);var C=x.getLayout();v.push(C),w.clickedIndex===t&&(C.percentFill=1);var b=O+s.quizRadioButtonDimen+s.quizCurvedOutlinePadding.left,k=e.addLayout(f,i,b,g,o,r,a,h,c,u,l);g+=k.height+s.answerVMargin;var S=new xt(s.quizCurvedOutlinePadding,k,i,w.outlineOpacity,w.outlineColor);l.push(S);var P=S.getLayout();y.push(P),-1!==w.clickedIndex&&(P.opacity=s.revealedOutlineOpacity,w.answers[t]?P.color=w.correctColor:P.color=w.incorrectColor);var E=function(t,i,n){-1===p.clickedIndex&&(new bt(P,s.hoveredOutlineOpacity,i),new At(s.quizRadioButtonSelectDuration,s.quizRadioButtonSelectEasing,i,C,0,1)),n.setCursor("pointer")};-1===w.clickedIndex&&(h.set(P,E),h.set(C,E));var T=function(t,i,n){-1===p.clickedIndex&&(new bt(P,p.outlineOpacity,i),new At(s.quizRadioButtonDeselectDuration,s.quizRadioButtonDeselectEasing,i,C,1,0)),n.setCursor("default")};-1===w.clickedIndex&&(c.set(P,T),c.set(C,T))},w=this,_=0;_<this.children.length;_++)m(_);if(-1===this.clickedIndex){var O=function(t,i,n){var e=t instanceof Et?v.indexOf(t):y.indexOf(t);p.answers[e]?n.setText('<em class="green">Correct!</em> Tap again to see working.'):n.setText('<em class="red">Not quite...</em> Tap again to see working.'),y.forEach(function(t,n){var e=p.answers[n]?p.correctColor:p.incorrectColor;return new St(t,e,i),new bt(t,s.revealedOutlineOpacity,i),!0}),p.clickedIndex=e,y.forEach(function(t){u.delete(t),h.delete(t),c.delete(t)}),v.forEach(function(t){u.delete(t),h.delete(t),c.delete(t)}),n.setCursor("default")};y.forEach(function(t){return u.set(t,O)}),v.forEach(function(t){return u.set(t,O)})}return i.set(this,f),f},i}(F),Wt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Mt=function(t){function i(i,n,e,o,r){var s=t.call(this,i)||this;return s.widths=[],s.heights=[],s.lineStroke=r,s.children=n,s.width=s.calcWidth(),s.height=s.calcHeight(),s.hLines=e,s.vLines=o,s}return Wt(i,t),i.prototype.getLineStroke=function(){return this.lineStroke},i.prototype.getMinCellDimen=function(){return 0},i.prototype.recalcDimensions=function(){this.children.forEach(function(t){t.forEach(function(t){t.recalcDimensions()})}),t.prototype.recalcDimensions.call(this)},i.prototype.calcWidth=function(){for(var t=0,i=0;i<this.children[0].length;i++){for(var n=this.getMinCellDimen(),e=0;e<this.children.length;e++){var o=this.children[e][i],r=void 0;(r=o?o.getWidth():0)>n&&(n=r)}t+=n,this.widths[i]=n}return t+this.padding.width()+(this.children[0].length+1)*this.getLineStroke()},i.prototype.calcHeight=function(){for(var t=0,i=0;i<this.children.length;i++){for(var n=this.getMinCellDimen(),e=0;e<this.children[i].length;e++){var o=this.children[i][e],r=void 0;(r=o?o.getHeight():0)>n&&(n=r)}t+=n,this.heights[i]=n}return t+this.padding.height()+(this.children.length+1)*this.getLineStroke()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var l=new S(t,this,n,e,this.width,this.height,o),p=e+this.padding.top+this.getLineStroke(),f=0;f<this.children.length;f++){var d=n+this.padding.left+this.getLineStroke(),g=this.heights[f];this.hLines[f]&&this.hLines[f].addLayout(l,i,void 0,p-this.getLineStroke(),o,r,s,a,h,c,u);for(var y=0;y<this.children[f].length;y++){var v=this.widths[y];this.vLines[y]&&this.vLines[y].addLayout(l,i,d-this.getLineStroke(),void 0,o,r,s,a,h,c,u);var m=this.children[f][y];if(m){var w=d+(v-m.getWidth())/2,_=p+(g-m.getHeight())/2;m.addLayout(l,i,w,_,o,r,s,a,h,c,u)}d+=v+this.getLineStroke(),y===this.children[f].length-1&&this.vLines[y+1]&&this.vLines[y+1].addLayout(l,i,d-this.getLineStroke(),void 0,o,r,s,a,h,c,u)}p+=g+this.getLineStroke(),f===this.children.length-1&&this.hLines[f+1]&&this.hLines[f+1].addLayout(l,i,n+this.padding.left,p-this.getLineStroke(),o,r,s,a,h,c,u)}return i.set(this,l),l},i}(D),It=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Bt=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.width=e.calcWidth(),e.height=e.calcHeight(),e}return It(i,t),i.prototype.setPadding=function(t){this.padding=t},i.prototype.calcWidth=function(){return 1+this.padding.width()},i.prototype.calcHeight=function(){return 0},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=t.tly,h=t.height,c=this.getWidth(),u=new ot(t,this,n,a,c,h,o,this.getColorForContent(s),this.getOpacityForContent(r),c,h/o);return i.set(this,u),u},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e);var o=t.origInnerHeight*(1-n)+i.origInnerHeight*n;y(0,-o/2+this.padding.top,0,o/2-this.padding.bottom,e)},i}(k),zt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Ft=function(){function t(t,i,n){var e,o=this;this.currStep=0,this.mouseOnLast=[],this.lastHeight=0,this.lastWidth=0,this.container=t,this.steps=i.steps,this.stepOptions=i.stepOpts,this.terms=[],this.hDividers=[],this.vDividers=[],this.radicals=[],this.setSize=this.setSize.bind(this),this.startAutoplay=this.startAutoplay.bind(this),this.handleMouseClick=this.handleMouseClick.bind(this),this.isAutoplay=i.autoplay,this.customColors=n;var r=document.createElement("div");r.className="canvas-container",this.container.appendChild(r),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d",{alpha:!1}),r.appendChild(this.canvas),this.backgroundFill=u(n&&n.canvasBackground?n.canvasBackground:s.backgroundColor);for(var a=!1,h=0;h<this.steps.length;h++)if(this.steps[h].text){a=!0;break}var c=this.steps.length>1&&!this.isAutoplay;if(c||a){var l=document.createElement("div");if(l.className="eqUpper",this.container.appendChild(l),c){var f=document.createElement("div");f.className="material-icons eqIcon",f.innerHTML="keyboard_arrow_left",f.setAttribute("role","button"),l.appendChild(f),this.prevStep=this.prevStep.bind(this),f.addEventListener("click",this.prevStep),f.addEventListener("mouseenter",this.highlightButton.bind(this,f)),f.addEventListener("mouseleave",this.unhighlightButton.bind(this,f))}a&&(this.textArea=document.createElement("div"),this.textArea.className="eqText",l.appendChild(this.textArea)),c&&(this.restartOrNextButton=document.createElement("div"),this.restartOrNextButton.className="material-icons eqIcon",this.restartOrNextButton.innerHTML="keyboard_arrow_right",this.restartOrNextButton.setAttribute("role","button"),l.appendChild(this.restartOrNextButton),this.restart=this.restart.bind(this),this.restartOrNextButton.addEventListener("click",this.handleMouseClick),this.canvas.addEventListener("mouseenter",this.highlightButton.bind(this,this.restartOrNextButton)),this.restartOrNextButton.addEventListener("mouseenter",this.highlightButton.bind(this,this.restartOrNextButton)),this.canvas.addEventListener("mouseleave",this.unhighlightButton.bind(this,this.restartOrNextButton)),this.restartOrNextButton.addEventListener("mouseleave",this.unhighlightButton.bind(this,this.restartOrNextButton)))}if(this.isAutoplay||(this.progress=new _t(this.canvas)),t.hasAttribute("data-fix-height")&&(this.fixedHeights=i.maxHeights),e=p(i),this.fontFamily=e[0],this.fontStyle=e[1],this.fontWeight=e[2],this.initContent(i),this.updateFontSize(),this.recalc(!0),this.isAutoplay||(this.canvas.addEventListener("click",this.handleMouseClick),this.textArea&&this.textArea.addEventListener("click",this.handleMouseClick)),this.recalc=this.recalc.bind(this),window.addEventListener("resize",function(){o.updateFontSize(),o.updateDimensions(),o.recalc(!1)}),this.isAutoplay){this.overlayContainer=document.createElement("div"),this.overlayContainer.className="overlayContainer",this.overlayContainer.addEventListener("click",this.startAutoplay);var d=document.createElement("span");d.className="material-icons playButton",d.innerHTML="play_arrow",this.overlayContainer.appendChild(d),t.appendChild(this.overlayContainer)}this.handleMouseMove=this.handleMouseMove.bind(this),this.canvas.addEventListener("mousemove",this.handleMouseMove)}return t.prototype.highlightButton=function(t){var i=new q(function(){},this.ctx,0,0,this.backgroundFill),n=new(function(n){function e(){return n.call(this,s.buttonHighlightDuration,s.buttonHighlightEasing,i)||this}return zt(e,n),e.prototype.step=function(i){var n=.4*(1-i)+s.buttonHighlightedOpacity*i;t.style.opacity=""+n},e}(R));i.addAnimation(n),i.start()},t.prototype.unhighlightButton=function(t){var i=new q(function(){},this.ctx,0,0,this.backgroundFill),n=new(function(n){function e(){return n.call(this,s.buttonUnhighlightDuration,s.buttonUnhighlightEasing,i)||this}return zt(e,n),e.prototype.step=function(i){var n=s.buttonHighlightedOpacity*(1-i)+.4*i;t.style.opacity=""+n},e}(R));i.addAnimation(n),i.start()},t.prototype.setCursor=function(t){this.canvas.style.cursor=t},t.prototype.setText=function(t){this.textArea&&(this.textArea.innerHTML=t)},t.prototype.handleMouseClick=function(t){var i=this;if(this.mouseClickEvents.size>0){var n=this.canvas.getBoundingClientRect(),e=t.clientX-n.left,o=t.clientY-n.top,r=[];this.mouseClickEvents.forEach(function(t,i){i.contains(e,o)&&r.push(i)});var s=[];this.currStates.forEach(function(t){return s.push(t)});var a=new q(void 0,this.ctx,this.lastWidth,this.lastHeight,this.backgroundFill,s);r.forEach(function(t){i.mouseClickEvents.get(t)(t,a,i)}),a.start()}else this.currStep>=this.steps.length-1?this.restart():this.nextStep()},t.prototype.handleMouseMove=function(t){var i=this;if(this.mouseEnterEvents.size>0||this.mouseExitEvents.size>0){var n=this.canvas.getBoundingClientRect(),e=t.clientX-n.left,o=t.clientY-n.top,r=[];this.mouseEnterEvents.forEach(function(t,i){i.contains(e,o)&&r.push(i)}),this.mouseExitEvents.forEach(function(t,i){i.contains(e,o)&&r.push(i)});var s=[];this.currStates.forEach(function(t){return s.push(t)});var a=new q(void 0,this.ctx,this.lastWidth,this.lastHeight,this.backgroundFill,s);r.forEach(function(t){-1===i.mouseOnLast.indexOf(t)&&i.mouseEnterEvents.get(t)(t,a,i)}),this.mouseOnLast.forEach(function(t){-1===r.indexOf(t)&&i.mouseExitEvents.get(t)(t,a,i)}),this.mouseOnLast=r,a.start()}},t.prototype.startAutoplay=function(){this.overlayContainer.style.display="none",this.autoplay()},t.prototype.autoplay=function(){var t=this;this.currStep>=this.steps.length-1?setTimeout(function(){t.stopAutoplay(),t.currStep=0,t.recalc(!0)},this.getAutoplayDelay(this.steps.length-1)):setTimeout(function(){t.nextStep(function(){t.autoplay()})},this.getAutoplayDelay(this.currStep))},t.prototype.stopAutoplay=function(){this.overlayContainer.style.display="block"},t.prototype.getAutoplayDelay=function(t){return this.isAutoplay.delays&&this.isAutoplay.delays[t]?this.isAutoplay.delays[t]:0},t.prototype.updateFontSize=function(){this.fontSize=m(window.currentWidthTier)},t.prototype.updateDimensions=function(){this.forAllContent(function(t){t.recalcDimensions()}),this.currRootContainer&&this.currRootContainer.recalcDimensions()},t.prototype.redraw=function(){var t=this;this.ctx.save(),this.ctx.fillStyle=this.backgroundFill,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.restore(),this.currStates.forEach(function(i){t.ctx.save(),i.component instanceof k&&(i.component.interpColorOff(),i.component.draw(i,i,0,t.ctx)),t.ctx.restore()})},t.prototype.recalc=function(t){var i,n;i=this.calcLayout(this.currStep,t),this.currStates=i[0],n=i[1],this.mouseEnterEvents=i[2],this.mouseExitEvents=i[3],this.mouseClickEvents=i[4],this.tempContent=i[5],this.mouseOnLast=[];var e=this.getSize(n),o=e[0],r=e[1];this.setSize(o,r),this.redraw(),this.progress&&this.progress.draw(this.currStep/(this.steps.length-1),o,r)},t.prototype.nextStep=function(t){var i;if(!(this.currStep+1>=this.steps.length||this.currAnimation)){this.currStep++;var n,e=this.currStates;i=this.calcLayout(this.currStep,!0),this.currStates=i[0],n=i[1],this.mouseEnterEvents=i[2],this.mouseExitEvents=i[3],this.mouseClickEvents=i[4],this.tempContent=i[5],this.mouseOnLast=[];var o=this.getSize(n),r=o[0],s=o[1];this.currAnimation=this.diff(e,r,s,this.currStep-1,this.currStep,t instanceof Function?t:void 0),this.currAnimation.start()}},t.prototype.prevStep=function(){var t;if(!(this.currStep-1<0)){this.currAnimation&&(this.currAnimation.stop(),this.redraw()),this.currStep--;var i,n=this.currStates;t=this.calcLayout(this.currStep,!0),this.currStates=t[0],i=t[1],this.mouseEnterEvents=t[2],this.mouseExitEvents=t[3],this.mouseClickEvents=t[4],this.tempContent=t[5],this.mouseOnLast=[];var e=this.getSize(i),o=e[0],r=e[1];this.currAnimation=this.diff(n,o,r,this.currStep+1,this.currStep,void 0),this.currAnimation.start()}},t.prototype.restart=function(){var t;if(!this.currAnimation&&0!==this.currStep){var i=this.currStep;this.currStep=0;var n,e=this.currStates;t=this.calcLayout(this.currStep,!0),this.currStates=t[0],n=t[1],this.mouseEnterEvents=t[2],this.mouseExitEvents=t[3],this.mouseClickEvents=t[4],this.tempContent=t[5],this.mouseOnLast=[];var o=this.getSize(n),r=o[0],s=o[1];this.currAnimation=this.diff(e,r,s,i,0,void 0),this.currAnimation.start()}},t.prototype.forAllContent=function(t){this.terms.forEach(t),this.hDividers.forEach(t),this.vDividers.forEach(t),this.radicals.forEach(t),this.tempContent.forEach(t)},t.prototype.diff=function(t,i,n,e,o,r){var a=this,h=n<this.lastHeight;if(!h&&(this.setSize(i,n),g)){var c=this.currStates;this.currStates=t,this.redraw(),this.currStates=c}var u,l,p=new q(function(){h&&(a.setSize(i,n),a.redraw()),a.restartOrNextButton&&(o===a.steps.length-1?a.restartOrNextButton.innerHTML="refresh":a.restartOrNextButton.innerHTML="keyboard_arrow_right"),a.progress&&h&&a.progress.draw(a.currStep/(a.steps.length-1),i,n),a.currAnimation=void 0,r&&r()},this.ctx,this.lastWidth,this.lastHeight,this.backgroundFill);e<o?(u=this.getStepOptions(e,o),l=!1):(u=this.getStepOptions(o,e),l=!0);var f,d,y=function(t){return u&&u.merges&&u.merges[t]},v=function(t){return u&&u.clones&&u.clones[t]},m=function(t){return u&&u.evals&&u.evals[t]},w=u&&u.moveDuration?u.moveDuration:s.moveDuration;l?(f=u&&u.removeDuration?u.removeDuration:s.removeDuration,d=u&&u.addDuration?u.addDuration:s.addDuration):(f=u&&u.addDuration?u.addDuration:s.addDuration,d=u&&u.removeDuration?u.removeDuration:s.removeDuration);var _=Math.max(w,f,d),O=function(t,i){var n=this.getContentFromRef(t),e=this.currStates.get(n);p.addAnimation(new U(i,e,p,this.ctx,w))}.bind(this),x=function(i,n){var e=this.getContentFromRef(i),o=t.get(e);p.addAnimation(new U(o,n,p,this.ctx,w))}.bind(this),C=function(t,i){var n=this.getContentFromRef(t),e=this.currStates.get(n);p.addAnimation(new $(i,e,p,this.ctx,w))}.bind(this),b=function(i,n){var e=this.getContentFromRef(i),o=t.get(e);p.addAnimation(new tt(o,n,p,this.ctx,w))}.bind(this);return this.progress&&!h&&p.addAnimation(new nt(e,o,this.steps.length,this.progress,p,_,s.progressEasing,i,n)),this.forAllContent(function(i){var n=void 0;void 0!==t&&(n=t.get(i));var e=a.currStates.get(i),o=i.getRef();n&&e?p.addAnimation(new U(n,e,p,a.ctx,w)):n?y(o)?O(u.merges[o],n):m(o)?C(u.evals[o],n):l&&v(o)?O(u.clones[o],n):p.addAnimation(new Z(n,p,a.ctx,d)):e&&(v(o)?x(u.clones[o],e):l&&y(o)?x(u.merges[o],e):l&&m(o)?b(u.evals[o],e):p.addAnimation(new K(e,p,a.ctx,f)))}),p},t.prototype.getSize=function(t){var i=t.height,n=t.width,e=this.container.clientWidth;return[n>e?n:e,i]},t.prototype.setSize=function(t,i){if(t!==this.lastWidth||i!==this.lastHeight){this.canvas.style.width=t+"px",this.canvas.style.height=i+"px";var n=window.devicePixelRatio||1;this.canvas.width=t*n,this.canvas.height=i*n,this.ctx.scale(n,n),this.ctx.font=this.fontWeight+" "+this.fontStyle+" "+this.fontSize+"px "+this.fontFamily,this.lastHeight=i,this.lastWidth=t}},t.prototype.initContent=function(t){this.termHeights=[];var i=[];if(t.terms.length>0)for(var n=0;n<s.widthTiers.length;n++)this.termHeights.push(t.metrics[n].height),i.push(t.metrics[n].ascent);for(var e=0;e<t.terms.length;e++){var o=[];for(n=0;n<s.widthTiers.length;n++)o.push(t.metrics[n].widths[e]);var r=t.terms[e],a=new A(r,o,this.termHeights,i,"t"+e);this.terms.push(a)}for(var h=0;h<t.hDividers;h++)this.hDividers.push(new st(s.hDividerPadding,"h"+h));for(h=0;h<t.vDividers;h++)this.vDividers.push(new Bt(s.vDividerPadding,"v"+h));for(h=0;h<t.radicals;h++)this.radicals.push(new ft("r"+h))},t.prototype.getContentFromRef=function(t){var i=t.substring(0,1),n=parseFloat(t.substring(1,t.length));if("t"===i)return this.terms[n];if("h"===i)return this.hDividers[n];if("r"===i)return this.radicals[n];if("v"===i)return this.vDividers[n];throw"unrecognized content type"},t.prototype.getStepOptions=function(t,i){if(this.stepOptions&&i-t==1)return this.stepOptions[i-1]},t.prototype.calcLayout=function(t,i){if(i){var n=this.steps[t].root;this.currRootContainer=this.parseContainer(n,0)}var e=this.container.clientWidth;if(this.currRootContainer.getWidth()<e&&this.currRootContainer.setWidth(e),this.fixedHeights){var o=this.fixedHeights[window.currentWidthTier];this.currRootContainer.setHeight(o)}i&&this.textArea&&(this.textArea.innerHTML=this.steps[t].text?this.steps[t].text:"");var r=this.steps[t].color,s=this.steps[t].opacity,a=_(),h=_(),c=_(),u=_(),l=[];return[a,this.currRootContainer.addLayout(void 0,a,0,0,1,s,r,h,c,u,l),h,c,u,l]},t.prototype.parseContainer=function(t,i){var n=t.type;if("vbox"===n){var o=this.parseContainerChildren(t.children,i+1),r=0===i?s.defaultRootVBoxPadding:e.even(s.defaultVBoxPadding);return this.fixedHeights&&0===i?new wt(o,r):new F(o,r)}if("hbox"===n)return new B(this.parseContainerChildren(t.children,i+1),e.even(s.defaultHBoxPadding));if("tightHBox"===n)return new ct(this.parseContainerChildren(t.children,i+1),e.even(s.defaultTightHBoxPadding));if("subSuper"===n){var a=t,h=new B(this.parseContainerChildren(a.top,i+1),e.even(0)),c=new ct(this.parseContainerChildren(a.middle,i+1),e.even(0)),u=new B(this.parseContainerChildren(a.bottom,i+1),e.even(0)),l=a.portrusion?a.portrusion:s.defaultExpPortrusion;return new lt(h,c,u,l,s.defaultSubSuperPadding)}if("root"===n){a=t;var p=new B(this.parseContainerChildren(a.idx,i+1),e.even(0)),f=new B(this.parseContainerChildren(a.arg,i+1),e.even(0)),d=void 0;return a.rad&&(d=this.getContentFromRef(a.rad)),new vt(p,f,d,s.defaultRootPadding,this.termHeights)}if("quiz"===n){a=t;return new Dt(this.parseContainerChildren(a.children,i+1),s.defaultQuizPadding,a.answers,this.customColors&&this.customColors.curvedOutlineOpacity?this.customColors.curvedOutlineOpacity:s.curvedOutlineDefaultOpacity,this.customColors&&this.customColors.curvedOutlineColor?this.customColors.curvedOutlineColor:s.curvedOutlineColor,this.customColors&&this.customColors.radioButtonOpacity?this.customColors.radioButtonOpacity:s.radioButtonDefaultOpacity,this.customColors&&this.customColors.radioButtonColor?this.customColors.radioButtonColor:s.radioButtonColor,this.customColors&&this.customColors.quizCorrectColor?this.customColors.quizCorrectColor:s.quizCorrectColor,this.customColors&&this.customColors.quizIncorrectColor?this.customColors.quizIncorrectColor:s.quizIncorrectColor)}if("table"===n){a=t;var g=this.parseChildren2D(a.children);return new Mt(s.defaultTablePadding,g,this.parseChildrenObj(a.hLines),this.parseChildrenObj(a.vLines),1)}throw void 0===n?"Invalid JSON File: Missing type attribute on container descriptor.":"Invalid JSON File: Unrecognized type: "+n},t.prototype.parseChildrenObj=function(t){var i=this,n={};return t?(Object.keys(t).forEach(function(e){var o=t[e];n[e]=i.getContentFromRef(o)}),n):n},t.prototype.parseChildren2D=function(t){var i=this,n=[];return t.forEach(function(t){n.push(i.parseContainerChildren(t,1))}),n},t.prototype.parseContainerChildren=function(t,i){var n=this,e=[];return t.forEach(function(t){if("object"==typeof t)null===t?e.push(void 0):e.push(n.parseContainer(t,i+1));else{if("string"!=typeof t)throw"Invalid type of child in JSON file.";e.push(n.getContentFromRef(t))}}),e},t}(),qt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Rt=function(t){function i(i){return t.call(this,document.createElement("div"),i)||this}return qt(i,t),i.prototype.getMaxHeight=function(t){var i=window;i.currentWidthTier=t,this.terms.forEach(function(t){t.recalcDimensions()});for(var n=0,e=0;e<this.steps.length;e++){var o=this.calcLayout(e,!0)[1];o.height>n&&(n=o.height)}return i.currentWidthTier=v(),n},i.prototype.compute=function(){for(var t=[],i=0;i<s.widthTiers.length;i++)t.push(this.getMaxHeight(i));return t},i}(Ft),Nt=n(1),Xt=!1,Yt=0,Ut={type:"g",name:s.fontFamily+":"+s.fontWeight};function Vt(){var t=new XMLHttpRequest;t.addEventListener("load",function(){200===t.status?(x=JSON.parse(t.responseText),k.colors=x.colors,l(x.colors)):(k.colors=s.colors,l()),Yt=t.status}),t.open("GET","colors.json"),t.send(),Xt=!0}function Zt(t){var i=document.createElement("style"),n="@font-face {font-family: "+t.name+";font-style: "+t.style+";font-weight: "+t.weight+";src: url("+t.src+");}";i.appendChild(document.createTextNode(n)),document.head.appendChild(i);var e=t.name+":";if("normal"===t.style)e+="n";else{if("italic"!==t.style)throw"Unrecognized custom font style";e+="i"}return e+=t.weight}function Jt(t,i){i.metrics||(i.metrics=f(i)),t.hasAttribute("data-fix-height")&&!i.maxHeights&&(i.maxHeights=new Rt(i).compute());var n=function(){0===Yt?setTimeout(n,10):200===Yt?new Ft(t,i,x):new Ft(t,i)};n()}"undefined"!=typeof self&&self,C=function(){return function(t,i){if("string"==typeof t)!function(t){Xt||Vt();for(var i=document.getElementsByClassName(t),n=[],e=i.length,o=0,r=0;r<i.length;r++){var s=i[r];s.hasAttribute("data-src")?(h(r,s.getAttribute("data-src")),o++):h(r,"anim"+(r-o)+".json")}function a(){for(var t=0;t<i.length;t++)Jt(i[t],n[t])}function h(t,i){var o=new XMLHttpRequest;o.addEventListener("load",function(){var i=JSON.parse(this.responseText);n[t]=i,0==--e&&function(){var t={};n.forEach(function(i){var n;n=i.font?i.font:Ut,t[JSON.stringify(n)]=!0});var i=Object.keys(t).map(function(t){return JSON.parse(t)}),e={active:a,inactive:a};i.forEach(function(t){var i=t.type;if("g"===i){var n=t;e.google||(e.google={families:[]}),e.google.families.push(n.name)}else{if("c"!==i)throw"unrecognized custom font type";var o=Zt(t);e.custom||(e.custom={},e.custom.families=[]),e.custom.families.push(o)}}),Nt.load(e)}()}),o.open("GET",i),o.send()}}(t);else{if(!("object"==typeof t&&t instanceof HTMLElement))throw new Error("Invalid first argument. Pass either a class name representing all containers to load, or an HTML Element that will become the container.");!function(t,i){Xt||Vt();var n,e=function(){Jt(t,n)},o=function(){var t;if(n.font)if("c"===n.font.type)t={custom:{families:[Zt(n.font)]}};else{if("g"!==n.font.type)throw new Error("Unrecognized font type.");t={google:{families:[n.font.name]}}}else t={google:{families:[Ut.name]}};t.active=e,t.inactive=e,Nt.load(t)};if("object"==typeof i)n=i,o();else{var r=i||t.getAttribute("data-src");if(!r)throw new Error("If a URL is not passed to loadEqContainer, it must be specified on the element via the data-src attribute.");var s=new XMLHttpRequest;s.addEventListener("load",function(){n=JSON.parse(this.responseText),o()}),s.open("GET",r),s.send()}}(t,i)}}},"function"==typeof define&&n(3)?define("loadEqContainer",[],C):window.loadEqContainer=C()}]);