!function(t){var i={};function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)n.d(e,o,function(i){return t[i]}.bind(null,o));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=4)}([function(t,i){var n=4,e=.001,o=1e-7,r=10,s=11,a=1/(s-1),h="function"==typeof Float32Array;function c(t,i){return 1-3*i+3*t}function u(t,i){return 3*i-6*t}function l(t){return 3*t}function p(t,i,n){return((c(i,n)*t+u(i,n))*t+l(i))*t}function f(t,i,n){return 3*c(i,n)*t*t+2*u(i,n)*t+l(i)}function d(t){return t}t.exports=function(t,i,c,u){if(!(0<=t&&t<=1&&0<=c&&c<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===i&&c===u)return d;for(var l=h?new Float32Array(s):new Array(s),g=0;g<s;++g)l[g]=p(g*a,t,c);function y(i){for(var h=0,u=1,d=s-1;u!==d&&l[u]<=i;++u)h+=a;var g=h+(i-l[--u])/(l[u+1]-l[u])*a,y=f(g,t,c);return y>=e?function(t,i,e,o){for(var r=0;r<n;++r){var s=f(i,e,o);if(0===s)return i;i-=(p(i,e,o)-t)/s}return i}(i,g,t,c):0===y?g:function(t,i,n,e,s){var a,h,c=0;do{(a=p(h=i+(n-i)/2,e,s)-t)>0?n=h:i=h}while(Math.abs(a)>o&&++c<r);return h}(i,h,h+a,t,c)}return function(t){return 0===t?0:1===t?1:p(y(t),i,u)}}},function(t,i,n){var e;!function(){function o(t,i,n){return t.call.apply(t.bind,arguments)}function r(t,i,n){if(!t)throw Error();if(2<arguments.length){var e=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,e),t.apply(i,n)}}return function(){return t.apply(i,arguments)}}function s(t,i,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:r).apply(null,arguments)}var a=Date.now||function(){return+new Date};function h(t,i){this.a=t,this.o=i||t,this.c=this.o.document}var c=!!window.FontFace;function u(t,i,n,e){if(i=t.c.createElement(i),n)for(var o in n)n.hasOwnProperty(o)&&("style"==o?i.style.cssText=n[o]:i.setAttribute(o,n[o]));return e&&i.appendChild(t.c.createTextNode(e)),i}function l(t,i,n){(t=t.c.getElementsByTagName(i)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,i,n){i=i||[],n=n||[];for(var e=t.className.split(/\s+/),o=0;o<i.length;o+=1){for(var r=!1,s=0;s<e.length;s+=1)if(i[o]===e[s]){r=!0;break}r||e.push(i[o])}for(i=[],o=0;o<e.length;o+=1){for(r=!1,s=0;s<n.length;s+=1)if(e[o]===n[s]){r=!0;break}r||i.push(e[o])}t.className=i.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,i){for(var n=t.className.split(/\s+/),e=0,o=n.length;e<o;e++)if(n[e]==i)return!0;return!1}function g(t,i,n){function e(){a&&o&&r&&(a(s),a=null)}i=u(t,"link",{rel:"stylesheet",href:i,media:"all"});var o=!1,r=!0,s=null,a=n||null;c?(i.onload=function(){o=!0,e()},i.onerror=function(){o=!0,s=Error("Stylesheet failed to load"),e()}):setTimeout(function(){o=!0,e()},0),l(t,"head",i)}function y(t,i,n,e){var o=t.c.getElementsByTagName("head")[0];if(o){var r=u(t,"script",{src:i}),s=!1;return r.onload=r.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},e||5e3),r}return null}function v(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,_(t)}}function w(t,i){t.c=i,_(t)}function _(t){0==t.a&&t.c&&(t.c(),t.c=null)}function O(t){this.a=t||"-"}function x(t,i){this.c=t,this.f=4,this.a="n";var n=(i||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function C(t){var i=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var e=t[n].replace(/['"]/g,"");-1!=e.indexOf(" ")||/^\d/.test(e)?i.push("'"+e+"'"):i.push(e)}return i.join(",")}function b(t){return t.a+t.f}function k(t){var i="normal";return"o"===t.a?i="oblique":"i"===t.a&&(i="italic"),i}function S(t){var i=4,n="n",e=null;return t&&((e=t.match(/(normal|oblique|italic)/i))&&e[1]&&(n=e[1].substr(0,1).toLowerCase()),(e=t.match(/([1-9]00|normal|bold)/i))&&e[1]&&(/bold/i.test(e[1])?i=7:/[1-9]00/.test(e[1])&&(i=parseInt(e[1].substr(0,1),10)))),n+i}function P(t,i){this.c=t,this.f=t.o.document.documentElement,this.h=i,this.a=new O("-"),this.j=!1!==i.events,this.g=!1!==i.classes}function E(t){if(t.g){var i=d(t.f,t.a.c("wf","active")),n=[],e=[t.a.c("wf","loading")];i||n.push(t.a.c("wf","inactive")),f(t.f,n,e)}T(t,"inactive")}function T(t,i,n){t.j&&t.h[i]&&(n?t.h[i](n.c,b(n)):t.h[i]())}function H(){this.c={}}function A(t,i){this.c=t,this.f=i,this.a=u(this.c,"span",{"aria-hidden":"true"},this.f)}function L(t){l(t.c,"body",t.a)}function j(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+C(t.c)+";font-style:"+k(t)+";font-weight:"+t.f+"00;"}function W(t,i,n,e,o,r){this.g=t,this.j=i,this.a=e,this.c=n,this.f=o||3e3,this.h=r||void 0}function D(t,i,n,e,o,r,s){this.v=t,this.B=i,this.c=n,this.a=e,this.s=s||"BESbswy",this.f={},this.w=o||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),t=j(t=new x(this.a.c+",serif",b(this.a))),this.g.a.style.cssText=t,t=j(t=new x(this.a.c+",sans-serif",b(this.a))),this.h.a.style.cssText=t,t=j(t=new x("serif",b(this.a))),this.j.a.style.cssText=t,t=j(t=new x("sans-serif",b(this.a))),this.m.a.style.cssText=t,L(this.g),L(this.h),L(this.j),L(this.m)}O.prototype.c=function(t){for(var i=[],n=0;n<arguments.length;n++)i.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return i.join(this.a)},W.prototype.start=function(){var t=this.c.o.document,i=this,n=a(),e=new Promise(function(e,o){!function r(){a()-n>=i.f?o():t.fonts.load(function(t){return k(t)+" "+t.f+"00 300px "+C(t.c)}(i.a),i.h).then(function(t){1<=t.length?e():setTimeout(r,25)},function(){o()})}()}),o=null,r=new Promise(function(t,n){o=setTimeout(n,i.f)});Promise.race([r,e]).then(function(){o&&(clearTimeout(o),o=null),i.g(i.a)},function(){i.j(i.a)})};var B={D:"serif",C:"sans-serif"},I=null;function M(){if(null===I){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);I=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return I}function z(t,i,n){for(var e in B)if(B.hasOwnProperty(e)&&i===t.f[B[e]]&&n===t.f[B[e]])return!0;return!1}function F(t){var i,n=t.g.a.offsetWidth,e=t.h.a.offsetWidth;(i=n===t.f.serif&&e===t.f["sans-serif"])||(i=M()&&z(t,n,e)),i?a()-t.A>=t.w?M()&&z(t,n,e)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?q(t,t.v):q(t,t.B):function(t){setTimeout(s(function(){F(this)},t),50)}(t):q(t,t.v)}function q(t,i){setTimeout(s(function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),i(this.a)},t),0)}function R(t,i,n){this.c=t,this.a=i,this.f=0,this.m=this.j=!1,this.s=n}D.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),F(this)};var N=null;function X(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&f(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),T(t,"active")):E(t.a))}function Y(t){this.j=t,this.a=new H,this.h=0,this.f=this.g=!0}function U(t,i,n,e,o){var r=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,a=e||{};if(0===n.length&&r)E(i.a);else{i.f+=n.length,r&&(i.j=r);var h,c=[];for(h=0;h<n.length;h++){var u=n[h],l=a[u.c],p=i.a,d=u;if(p.g&&f(p.f,[p.a.c("wf",d.c,b(d).toString(),"loading")]),T(p,"fontloading",d),p=null,null===N)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);N=d?42<parseInt(d[1],10):!g}else N=!1;p=N?new W(s(i.g,i),s(i.h,i),i.c,u,i.s,l):new D(s(i.g,i),s(i.h,i),i.c,u,i.s,t,l),c.push(p)}for(h=0;h<c.length;h++)c[h].start()}},0)}function V(t,i){this.c=t,this.a=i}function Z(t,i){this.c=t,this.a=i}function J(t,i){this.c=t||K,this.a=[],this.f=[],this.g=i||""}R.prototype.g=function(t){var i=this.a;i.g&&f(i.f,[i.a.c("wf",t.c,b(t).toString(),"active")],[i.a.c("wf",t.c,b(t).toString(),"loading"),i.a.c("wf",t.c,b(t).toString(),"inactive")]),T(i,"fontactive",t),this.m=!0,X(this)},R.prototype.h=function(t){var i=this.a;if(i.g){var n=d(i.f,i.a.c("wf",t.c,b(t).toString(),"active")),e=[],o=[i.a.c("wf",t.c,b(t).toString(),"loading")];n||e.push(i.a.c("wf",t.c,b(t).toString(),"inactive")),f(i.f,e,o)}T(i,"fontinactive",t),X(this)},Y.prototype.load=function(t){this.c=new h(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,i,n){var e=[],o=n.timeout;!function(t){t.g&&f(t.f,[t.a.c("wf","loading")]),T(t,"loading")}(i);var e=function(t,i,n){var e,o=[];for(e in i)if(i.hasOwnProperty(e)){var r=t.c[e];r&&o.push(r(i[e],n))}return o}(t.a,n,t.c),r=new R(t.c,i,o);for(t.h=e.length,i=0,n=e.length;i<n;i++)e[i].load(function(i,n,e){U(t,r,i,n,e)})}(this,new P(this.c,t),t)},V.prototype.load=function(t){var i=this,n=i.a.projectId,e=i.a.version;if(n){var o=i.c.o;y(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(e?"?v="+e:""),function(e){e?t([]):(o["__MonotypeConfiguration__"+n]=function(){return i.a},function i(){if(o["__mti_fntLst"+n]){var e,r=o["__mti_fntLst"+n](),s=[];if(r)for(var a=0;a<r.length;a++){var h=r[a].fontfamily;null!=r[a].fontStyle&&null!=r[a].fontWeight?(e=r[a].fontStyle+r[a].fontWeight,s.push(new x(h,e))):s.push(new x(h))}t(s)}else setTimeout(function(){i()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},Z.prototype.load=function(t){var i,n,e=this.a.urls||[],o=this.a.families||[],r=this.a.testStrings||{},s=new v;for(i=0,n=e.length;i<n;i++)g(this.c,e[i],m(s));var a=[];for(i=0,n=o.length;i<n;i++)if((e=o[i].split(":"))[1])for(var h=e[1].split(","),c=0;c<h.length;c+=1)a.push(new x(e[0],h[c]));else a.push(new x(e[0]));w(s,function(){t(a,r)})};var K="https://fonts.googleapis.com/css";function G(t){this.f=t,this.a=[],this.c={}}var $={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Q={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},it=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,i){this.c=t,this.a=i}var et={Arimo:!0,Cousine:!0,Tinos:!0};function ot(t,i){this.c=t,this.a=i}function rt(t,i){this.c=t,this.f=i,this.a=[]}nt.prototype.load=function(t){var i=new v,n=this.c,e=new J(this.a.api,this.a.text),o=this.a.families;!function(t,i){for(var n=i.length,e=0;e<n;e++){var o=i[e].split(":");3==o.length&&t.f.push(o.pop());var r="";2==o.length&&""!=o[1]&&(r=":"),t.a.push(o.join(r))}}(e,o);var r=new G(o);!function(t){for(var i=t.f.length,n=0;n<i;n++){var e=t.f[n].split(":"),o=e[0].replace(/\+/g," "),r=["n4"];if(2<=e.length){var s;if(s=[],a=e[1])for(var a,h=(a=a.split(",")).length,c=0;c<h;c++){var u;if((u=a[c]).match(/^[\w-]+$/))if(null==(p=it.exec(u.toLowerCase())))u="";else{if(u=null==(u=p[2])||""==u?"n":tt[u],null==(p=p[1])||""==p)p="4";else var l=Q[p],p=l||(isNaN(p)?"4":p.substr(0,1));u=[u,p].join("")}else u="";u&&s.push(u)}0<s.length&&(r=s),3==e.length&&(s=[],0<(e=(e=e[2])?e.split(","):s).length&&(e=$[e[0]])&&(t.c[o]=e))}for(t.c[o]||(e=$[o])&&(t.c[o]=e),e=0;e<r.length;e+=1)t.a.push(new x(o,r[e]))}}(r),g(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var i=t.a.length,n=[],e=0;e<i;e++)n.push(t.a[e].replace(/ /g,"+"));return i=t.c+"?family="+n.join("%7C"),0<t.f.length&&(i+="&subset="+t.f.join(",")),0<t.g.length&&(i+="&text="+encodeURIComponent(t.g)),i}(e),m(i)),w(i,function(){t(r.a,r.c,et)})},ot.prototype.load=function(t){var i=this.a.id,n=this.c.o;i?y(this.c,(this.a.api||"https://use.typekit.net")+"/"+i+".js",function(i){if(i)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){i=n.Typekit.config.fn;for(var e=[],o=0;o<i.length;o+=2)for(var r=i[o],s=i[o+1],a=0;a<s.length;a++)e.push(new x(r,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(e)}},2e3):t([])},rt.prototype.load=function(t){var i=this.f.id,n=this.c.o,e=this;i?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[i]=function(i,n){for(var o=0,r=n.fonts.length;o<r;++o){var s=n.fonts[o];e.a.push(new x(s.name,S("font-weight:"+s.weight+";font-style:"+s.style)))}t(e.a)},y(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+i+".js",function(i){i&&t([])})):t([])};var st=new Y(window);st.a.c.custom=function(t,i){return new Z(i,t)},st.a.c.fontdeck=function(t,i){return new rt(i,t)},st.a.c.monotype=function(t,i){return new V(i,t)},st.a.c.typekit=function(t,i){return new ot(i,t)},st.a.c.google=function(t,i){return new nt(i,t)};var at={load:s(st.load,st)};void 0===(e=function(){return at}.call(i,n,i,t))||(t.exports=e)}()},function(t,i,n){var e;t.exports=function t(i,n,o){function r(a,h){if(!n[a]){if(!i[a]){var c="function"==typeof e&&e;if(!h&&c)return e(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};i[a][0].call(l.exports,function(t){var n=i[a][1][t];return r(n||t)},l,l.exports,t,i,n,o)}return n[a].exports}for(var s="function"==typeof e&&e,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,i,n){i.exports=function(i){if("function"!=typeof Map||i){var n=t("./similar");return new n}return new Map}},{"./similar":2}],2:[function(t,i,n){function e(){return this.list=[],this.lastItem=void 0,this.size=0,this}e.prototype.get=function(t){var i;return this.lastItem&&this.isEqual(this.lastItem.key,t)?this.lastItem.val:(i=this.indexOf(t))>=0?(this.lastItem=this.list[i],this.list[i].val):void 0},e.prototype.set=function(t,i){var n;return this.lastItem&&this.isEqual(this.lastItem.key,t)?(this.lastItem.val=i,this):(n=this.indexOf(t))>=0?(this.lastItem=this.list[n],this.list[n].val=i,this):(this.lastItem={key:t,val:i},this.list.push(this.lastItem),this.size++,this)},e.prototype.delete=function(t){var i;if(this.lastItem&&this.isEqual(this.lastItem.key,t)&&(this.lastItem=void 0),(i=this.indexOf(t))>=0)return this.size--,this.list.splice(i,1)[0]},e.prototype.has=function(t){var i;return!(!this.lastItem||!this.isEqual(this.lastItem.key,t))||(i=this.indexOf(t))>=0&&(this.lastItem=this.list[i],!0)},e.prototype.forEach=function(t,i){var n;for(n=0;n<this.size;n++)t.call(i||this,this.list[n].val,this.list[n].key,this)},e.prototype.indexOf=function(t){var i;for(i=0;i<this.size;i++)if(this.isEqual(this.list[i].key,t))return i;return-1},e.prototype.isEqual=function(t,i){return t===i||t!=t&&i!=i},i.exports=e},{}]},{},[1])(1)},function(t,i){(function(i){t.exports=i}).call(this,{})},function(t,i,n){"use strict";n.r(i);var e,o=function(){function t(t,i,n,e){this.top=t,this.left=i,this.bottom=n,this.right=e}return t.prototype.height=function(){return this.top+this.bottom},t.prototype.width=function(){return this.left+this.right},t.prototype.scale=function(i){return new t(this.top*i,this.left*i,this.bottom*i,this.right*i)},t.even=function(i){return new t(i,i,i,i)},t}(),r=n(0),s=n.n(r),a={fontFamily:"PT Serif",fontStyle:"Normal",fontWeight:"400",fontSizes:[35,30,25],widthTiers:[670,500,300],testCanvasFontSizeMultiple:5,testCanvasWidth:800,restartAndProgressSize:28,restartAndProgressPadding:16,progressOpacity:.15,defaultVBoxPadding:0,defaultRootVBoxPadding:new o(20,0,20,0),defaultHBoxPadding:0,defaultTightHBoxPadding:0,defaultSubSuperPadding:o.even(0),defaultRootPadding:o.even(0),defaultQuizPadding:new o(0,10,0,10),defaultTablePadding:o.even(2),termPadding:new o(10,5,10,5),tightTermPadding:new o(5,2,5,2),hDividerPadding:new o(0,3,0,3),vDividerPadding:new o(3,0,3,0),expScale:.575,defaultExpPortrusion:.1,rootArgMarginLeft:7,rootIndexScale:.5,rootKinkTipAngle:Math.PI/2,rootKinkTipLength:3,curvedOutlineBorderRadius:5,curvedOutlineDefaultOpacity:.3,curvedOutlineColor:[255,255,255],radioButtonDefaultOpacity:.3,radioButtonColor:[255,255,255],answerVMargin:20,hoveredOutlineOpacity:.75,revealedOutlineOpacity:1,outlineFadeInDuration:300,outlineFadeInEasing:s()(.5,.5,.5,.5),quizCorrectColor:[100,221,23],quizIncorrectColor:[198,40,40],quizCurvedOutlinePadding:new o(0,5,0,5),quizRadioButtonDimen:35,quizRadioButtonPadding:o.even(10),quizRadioButtonSelectDuration:300,quizRadioButtonSelectEasing:s()(0,0,.2,1),quizRadioButtonDeselectDuration:300,quizRadioButtonDeselectEasing:s()(.4,0,1,1),creatorContainerPadding:o.even(30),creatorHDividerPadding:new o(5,15,5,15),creatorVDividerPadding:new o(15,5,15,5),creatorSelectableHDividerPadding:new o(5,0,5,0),creatorSelectableVDividerPadding:new o(0,5,0,5),creatorContainerStroke:"rgb(175, 175, 175)",creatorCaretFillStyle:"#eee",creatorCaretFillStyleLighter:"#777",creatorCaretSize:5,creatorLineDash:[2],creatorErrorTimeout:5e3,creatorTableMinCellDimen:30,creatorPlusLineHalfLength:5,addDuration:700,addEasing:s()(0,0,.2,1),moveDuration:700,moveEasing:s()(.4,0,.2,1),removeDuration:400,removeEasing:s()(.4,0,1,1),progressEasing:s()(.4,0,.2,1),colors:{red:[229,57,53],pink:[247,18,171],purple:[170,0,255],blue:[27,158,245],teal:[0,181,193],green:[88,199,75],orange:[255,102,0],default:[255,255,255]},fadedOpacity:.5,normalOpacity:.75,focusedOpacity:1,buttonHighlightedOpacity:1,buttonHighlightDuration:200,buttonHighlightEasing:s()(0,0,.2,1),buttonUnhighlightDuration:200,buttonUnhighlightEasing:s()(.4,0,1,1)},h=function(){function t(t){this.padding=t}return t.prototype.setWidth=function(t){this.width=t},t.prototype.setHeight=function(t){this.height=t},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getPadding=function(){return this.padding},t.prototype.recalcDimensions=function(){this.width=this.calcWidth(),this.height=this.calcHeight()},t}(),c=(e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(t,i)},function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}),u=function(t){function i(i,n){var e=t.call(this,i)||this;return e.interpColor=!0,e.ref=n,e}return c(i,t),i.prototype.setupCtx=function(t,i,n,e){var o=1-n,r=t.tlx*o+i.tlx*n,s=t.tly*o+i.tly*n,a=t.width*o+i.width*n,h=t.height*o+i.height*n,c=t.scale*o+i.scale*n;return e.translate(r+a/2,s+h/2),e.scale(c,c),this.setupCtxStyle(t,i,n,e),[a,h]},i.prototype.setupCtxStyle=function(t,i,n,e){if(0===n){var o=t.color,r=i.color;this.interpColor=o[0]!==r[0]||o[1]!==r[1]||o[2]!==r[2]||t.opacity!==i.opacity}var s=t.color,a=t.opacity;if(this.interpColor){var h=1-n,c=t.color[0]*h+i.color[0]*n,u=t.color[1]*h+i.color[1]*n,l=t.color[2]*h+i.color[2]*n,p=t.opacity*h+i.opacity*n;s=[Math.round(c),Math.round(u),Math.round(l)],a=p}this.setCtxStyle(e,s,a)},i.prototype.setCtxStyle=function(t,i,n){var e="rgba("+i[0]+","+i[1]+","+i[2]+","+n+")";t.fillStyle=e,t.strokeStyle=e},i.prototype.getColorForContent=function(t){return void 0!==t&&void 0!==t[this.ref]?i.colors[t[this.ref]]:i.colors.default},i.prototype.getOpacityForContent=function(t){return void 0!==t&&void 0!==t[this.ref]?t[this.ref]:a.normalOpacity},i.prototype.interpColorOff=function(){this.interpColor=!1},i.prototype.getRef=function(){return this.ref},i}(h),l=function(){function t(t,i,n,e,o,r,s){this.tlx=n,this.tly=e,this.width=o,this.height=r,this.component=i,this.layoutParent=t,this.scale=s}return t.prototype.contains=function(t,i){return t>=this.tlx&&t<=this.tlx+this.width&&i>=this.tly&&i<=this.tly+this.height},t.prototype.onLeft=function(t){return t<=this.tlx+this.width/2},t.prototype.onTop=function(t){return t<=this.tly+this.height/2},t.prototype.withZeroScale=function(){return new t(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0)},t}(),p=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),f=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,i,n,e,o,r,s,a)||this;return u.color=h,u.opacity=c,u}return p(i,t),i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0)},i}(l),d=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),g=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.padding=a.termPadding,i}return d(i,t),i.prototype.tighten=function(t){this.padding=a.tightTermPadding,this.width-=t},i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0)},i}(f),y=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),v=function(t){function i(i,n,e,o,r){var s=t.call(this,a.termPadding,r)||this;return s.widths=n,s.heights=e,s.halfInnerWidths=s.widths.map(function(t){return t/2}),s.halfInnerHeights=s.heights.map(function(t){return t/2}),s.ascents=o,s.recalcDimensions(),s.text=i,s}return y(i,t),i.prototype.recalcDimensions=function(){t.prototype.recalcDimensions.call(this);var i=window.currentWidthTier;this.halfInnerWidth=this.halfInnerWidths[i],this.halfInnerHeight=this.halfInnerHeights[i],this.ascent=this.ascents[i]},i.prototype.calcHeight=function(){var t=window.currentWidthTier;return this.heights[t]+this.padding.height()},i.prototype.calcWidth=function(){var t=window.currentWidthTier;return this.widths[t]+this.padding.width()},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=new g(t,this,n,e,this.width*o,this.height*o,o,this.getColorForContent(s),this.getOpacityForContent(r));return i.set(this,a),a},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e),e.fillText(this.text,-this.halfInnerWidth,-this.halfInnerHeight+this.ascent)},i}(u),m=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),w=function(t){function i(i){return t.call(this,i)||this}return m(i,t),i}(h),_=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),O=function(t){function i(i,n){var e=t.call(this,n)||this;return e.children=i,e}return _(i,t),i.prototype.getChildren=function(){return this.children},i.prototype.recalcDimensions=function(){this.children.forEach(function(t){return t.recalcDimensions()}),t.prototype.recalcDimensions.call(this)},i}(w),x=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),C=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.width=e.calcWidth(),e.height=e.calcHeight(),e}return x(i,t),i.prototype.calcHeight=function(){for(var t=0,i=0;i<this.children.length;i++){var n=this.children[i].getHeight();n>t&&(t=n)}return t+this.padding.height()},i.prototype.calcWidth=function(){for(var t=0,i=0;i<this.children.length;i++){t+=this.children[i].getWidth()}return t+this.padding.width()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var p=new l(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),f=(this.getHeight()-this.padding.height())*o,d=n+this.padding.left*o,g=0;g<this.children.length;g++){var y=this.children[g],v=(f-y.getHeight()*o)/2+this.padding.top*o+e;d+=y.addLayout(p,i,d,v,o,r,s,a,h,c,u).width}return i.set(this,p),p},i}(O),b=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),k=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.width=e.calcWidth(),e.height=e.calcHeight(),e}return b(i,t),i.prototype.calcHeight=function(){for(var t=0,i=0;i<this.children.length;i++)t+=this.children[i].getHeight();return t+this.padding.height()},i.prototype.calcWidth=function(){for(var t=0,i=0;i<this.children.length;i++){var n=this.children[i].getWidth();n>t&&(t=n)}return t+this.padding.width()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var p=new l(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),f=(this.getWidth()-this.padding.width())*o,d=e+this.padding.top*o,g=0;g<this.children.length;g++){var y=this.children[g],v=(f-y.getWidth()*o)/2+this.padding.left*o+n;d+=y.addLayout(p,i,v,d,o,r,s,a,h,c,u).height}return i.set(this,p),p},i}(O),S=function(){function t(t,i,n,e,o){this.stopped=!1,this.animations=[],this.done=t,this.ctx=i,this.clearWidth=n,this.clearHeight=e,this.states=o}return t.prototype.addAnimation=function(t){this.animations.push(t)},t.prototype.start=function(){this.numRunning=this.animations.length;var t=this,i=function(n){t.ctx.clearRect(0,0,t.clearWidth,t.clearHeight),t.animations.forEach(function(t){t.run(n)}),t.states&&t.states.forEach(function(i){i.component instanceof u&&(t.ctx.save(),i.component.draw(i,i,1,t.ctx),t.ctx.restore())}),t.numRunning>0&&!t.stopped&&requestAnimationFrame(i)};requestAnimationFrame(i)},t.prototype.finished=function(){this.numRunning--,0===this.numRunning&&this.done&&this.done()},t.prototype.stop=function(){this.stopped=!0,this.done&&this.done()},t}(),P=function(){function t(t,i,n){this.done=!1,this.startTime=-1,this.duration=t,this.easing=i,this.set=n}return t.prototype.run=function(t){if(this.done)this.step(1);else{if(-1===this.startTime)return this.startTime=t,void this.step(0);var i=t-this.startTime;i>=this.duration?(this.step(1),this.set.finished(),this.done=!0):this.step(this.easing(i/this.duration))}},t}(),E=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),T=function(t){function i(i,n,e,o,r,s,a){var h=t.call(this,i,n,e)||this;return h.before=o,h.after=r,h.component=s,h.ctx=a,h}return E(i,t),i.prototype.step=function(t){this.ctx.save(),this.component.draw(this.before,this.after,t,this.ctx),this.ctx.restore()},i}(P),H=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),A=function(t){function i(i,n,e,o,r){return t.call(this,r,a.moveEasing,e,i,n,n.component,o)||this}return H(i,t),i}(T),L=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),j=function(t){function i(i,n,e,o){return t.call(this,o,a.removeEasing,n,i,i.withZeroScale(),i.component,e)||this}return L(i,t),i}(T),W=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),D=function(t){function i(i,n,e,o){return t.call(this,o,a.addEasing,n,i.withZeroScale(),i,i.component,e)||this}return W(i,t),i}(T),B=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),I=function(t){function i(i,n,e,o,r){return t.call(this,r,a.moveEasing,e,i,n.withZeroScale(),i.component,o)||this}return B(i,t),i}(T),M=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),z=function(t){function i(i,n,e,o,r){return t.call(this,r,a.moveEasing,e,i.withZeroScale(),n,n.component,o)||this}return M(i,t),i}(T),F=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),q=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,s,a,r)||this;return u.startCompletion=i/(e-1),u.endCompletion=n/(e-1),u.pi=o,u.canvasWidth=h,u.canvasHeight=c,u}return F(i,t),i.prototype.step=function(t){var i=this.startCompletion*(1-t)+this.endCompletion*t;this.pi.draw(i,this.canvasWidth,this.canvasHeight)},i}(P),R=n(2),N=n.n(R);function X(t){var i=document.createElement("style"),n="";Object.keys(t||a.colors).forEach(function(t){var i=a.colors[t];n+="."+t+" { color: rgb("+i[0]+","+i[1]+","+i[2]+")}"}),i.appendChild(document.createTextNode(n)),document.head.appendChild(i)}function Y(t){if(t.font){if("c"===t.font.type)return[(i=t.font).name,i.style,i.weight];if("g"===t.font.type){var i,n=(i=t.font).name.split(":"),e=n[0];return n[1]?"i"===n[1].charAt(n[1].length-1)?[e,"italic",n[1].substring(0,n[1].length-1)]:[e,a.fontStyle,n[1]]:[e,a.fontStyle,a.fontWeight]}throw"Unrecognized custom font type"}return[a.fontFamily,a.fontStyle,a.fontWeight]}function U(t){for(var i=[],n=function(n){var e={};i.push(e),e.widths=[];var o=0,r=0;t.terms.forEach(function(i){var s=function(t,i,n){var e={},o=G(i),r=Y(n),s=r[0],h=r[1],c=r[2],u=document.createElement("canvas");u.width=a.testCanvasWidth,u.height=o*a.testCanvasFontSizeMultiple;var l=u.getContext("2d");l.font=c+" "+h+" "+o+"px "+s,e.width=l.measureText(t).width,l.fillStyle="white",l.fillRect(0,0,u.width,u.height),l.fillStyle="black",l.fillText(t,0,u.height/2);var p=l.getImageData(0,0,e.width,u.height),f=p.data,d=0;for(;++d<f.length&&255===f[d];);var g=d/(4*p.width);d=f.length-1;for(;--d>0&&255===f[d];);var y=d/(4*p.width);return e.ascent=u.height/2-g,e.descent=y-u.height/2,e}(i,n,t);s.ascent>o&&(o=s.ascent),s.descent>r&&(r=s.descent),e.widths.push(s.width)}),e.ascent=o,e.height=o+r},e=0;e<a.widthTiers.length;e++)n(e);return i}var V=window.navigator.userAgent,Z=V.indexOf("MSIE ")>-1||V.indexOf("Trident/")>-1||V.indexOf("Edge/")>-1;function J(t,i,n,e,o){o.beginPath(),o.moveTo(t,i),o.lineTo(n,e),o.stroke()}function K(){for(var t=window.innerWidth,i=0;i<a.widthTiers.length;i++)if(t>a.widthTiers[i])return i;return a.widthTiers.length-1}function G(t){return a.fontSizes[t]}window.currentWidthTier=K(),window.addEventListener("resize",function(){window.currentWidthTier=K()});var $="function"==typeof window.Map;function Q(){return $?new window.Map:new N.a}var tt,it,nt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),et=function(t){function i(i,n,e,o,r,s,a,h,c,u,l){var p=t.call(this,i,n,e,o,r,s,a,h,c)||this;return p.origInnerWidth=u,p.origInnerHeight=l,p}return nt(i,t),i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0,this.origInnerWidth,this.origInnerHeight)},i}(f),ot=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),rt=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.height=e.calcHeight(),e.width=e.calcWidth(),e}return ot(i,t),i.prototype.setPadding=function(t){this.padding=t},i.prototype.calcWidth=function(){return 0},i.prototype.calcHeight=function(){return 1+this.padding.height()},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=t.tlx,h=t.width,c=this.getHeight(),u=new et(t,this,a,e,h,c,o,this.getColorForContent(s),this.getOpacityForContent(r),h/o,c);return i.set(this,u),u},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e);var o=t.origInnerWidth*(1-n)+i.origInnerWidth*n;J(-o/2+this.padding.left,0,o/2-this.padding.right,0,e)},i}(u),st=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),at=a.termPadding.width()-a.tightTermPadding.width(),ht=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return st(i,t),i.prototype.calcWidth=function(){for(var t=0,i=0,n=0;n<this.children.length;n++){var e=this.children[n];t+=e.getWidth(),e instanceof v&&i++}return t+this.padding.width()-i*at},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var p=new l(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),f=(this.getHeight()-this.padding.height())*o,d=n+this.padding.left*o,g=0;g<this.children.length;g++){var y=this.children[g],m=(f-y.getHeight()*o)/2+this.padding.top*o+e,w=y.addLayout(p,i,d,m,o,r,s,a,h,c,u);y instanceof v&&w.tighten(at*o),d+=w.width}return i.set(this,p),p},i}(C),ct=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),ut=function(t){function i(i,n,e,o,r){var s=t.call(this,r)||this;return s.portrusionProportion=o,s.top=i,s.middle=n,s.bottom=e,s.topPortrusion=s.top.getHeight()*a.expScale*s.portrusionProportion,s.bottomPortrusion=s.bottom.getHeight()*a.expScale*s.portrusionProportion,s.topPortrusion>s.bottomPortrusion?(s.topBlank=0,s.bottomBlank=s.topPortrusion-s.bottomPortrusion):(s.bottomBlank=0,s.topBlank=s.bottomPortrusion-s.topPortrusion),s.width=s.calcWidth(),s.height=s.calcHeight(),s}return ct(i,t),i.prototype.recalcDimensions=function(){this.top.recalcDimensions(),this.middle.recalcDimensions(),this.bottom.recalcDimensions(),t.prototype.recalcDimensions.call(this)},i.prototype.calcWidth=function(){var t=Math.max(this.top.getWidth()*a.expScale,this.bottom.getWidth()*a.expScale);return this.middle.getWidth()+t+this.padding.width()},i.prototype.calcHeight=function(){return this.middle.getHeight()+this.topPortrusion+this.topBlank+this.bottomPortrusion+this.bottomBlank+this.padding.height()},i.prototype.addLayout=function(t,i,n,e,o,r,s,h,c,u,p){var f=new l(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),d=this.middle.addLayout(f,i,n+this.padding.left*o,e+(this.topPortrusion+this.topBlank+this.padding.top)*o,o,r,s,h,c,u,p),g=d.tlx+d.width;return this.top.addLayout(f,i,g,e+(this.padding.top+this.topBlank)*o,o*a.expScale,r,s,h,c,u,p),this.bottom.addLayout(f,i,g,e+f.height-(this.padding.bottom+this.bottomBlank+this.bottom.getHeight()*a.expScale)*o,o*a.expScale,r,s,h,c,u,p),i.set(this,f),f},i}(w),lt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),pt=function(t){function i(i){var n=t.call(this,o.even(0),i)||this;return n.height=n.calcHeight(),n.width=n.calcWidth(),n}return lt(i,t),i.prototype.calcWidth=function(){return 0},i.prototype.calcHeight=function(){return 0},i.prototype.draw=function(t,i,n,e){var o=t.layoutParent,r=i.layoutParent,s=1-n,a=o.kinkTipX*s+r.kinkTipX*n,h=o.kinkTipY*s+r.kinkTipY*n,c=o.kinkTopX*s+r.kinkTopX*n,u=o.kinkTopY*s+r.kinkTopY*n,l=o.tickBotX*s+r.tickBotX*n,p=o.tickBotY*s+r.tickBotY*n,f=o.tickTopX*s+r.tickTopX*n,d=o.tickTopY*s+r.tickTopY*n,g=o.endX*s+r.endX*n,y=o.endY*s+r.endY*n,v=t.origInnerWidth*s+i.origInnerWidth*n,m=t.origInnerHeight*s+i.origInnerHeight*n;this.setupCtx(t,i,n,e);var w=-v/2,_=-m/2;J(w+a,_+h,w+c,_+u,e),J(w+c,_+u,w+l,_+p,e),J(w+l,_+p,w+f,_+d,e),J(w+f,_+d,w+g,_+y,e)},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=t.component.getPadding().scale(o),h=a.width(),c=a.height(),u=new et(t,this,n+h/2,e+c/2,t.width-h,t.height-c,o,this.getColorForContent(s),this.getOpacityForContent(r),(t.width-h)/o,(t.height-c)/o);return i.set(this,u),u},i}(u),ft=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),dt=function(t){function i(i,n,e,o,r,s,a,h,c,u,l,p,f,d,g,y,v){var m=t.call(this,i,n,e,o,r,s,a)||this;return m.kinkTipX=h,m.kinkTipY=c,m.kinkTopX=u,m.kinkTopY=l,m.tickBotX=p,m.tickBotY=f,m.tickTopX=d,m.tickTopY=g,m.endX=y,m.endY=v,m}return ft(i,t),i.prototype.withZeroScale=function(){return new i(this.layoutParent,this.component,this.tlx,this.tly,this.width,this.height,0,this.kinkTipX,this.kinkTipY,this.kinkTopX,this.kinkTopY,this.tickBotX,this.tickBotY,this.tickTopX,this.tickTopY,this.endX,this.endY)},i}(l),gt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),yt=function(t){function i(i,n,e,o,r){var s=t.call(this,o)||this;return s.index=i,s.argument=n,s.radical=e,s.termHeights=r,s.calcMetrics(),s.width=s.calcWidth(),s.height=s.calcHeight(),s}return gt(i,t),i.prototype.calcMetrics=function(){this.padBottom=a.termPadding.bottom/2;var t=this.termHeights[K()]+a.termPadding.height();this.indexHeight=t*a.rootIndexScale,this.kinkHeight=t-this.padBottom-this.indexHeight,this.indexTopOverflow=this.index.getHeight()*a.rootIndexScale-this.indexHeight,this.indexTopOverflow=Math.max(this.indexTopOverflow,0),this.emptySpaceAboveIndex=this.argument.getHeight()-this.kinkHeight-this.indexHeight,this.emptySpaceAboveIndex=Math.max(this.emptySpaceAboveIndex,0);var i=Math.atan(t/a.rootArgMarginLeft),n=this.kinkHeight/Math.tan(i),e=Math.PI-i-Math.PI/2,o=a.rootKinkTipAngle-e;this.kinkTipWidth=a.rootKinkTipLength*Math.sin(o),this.kinkWidth=n+this.kinkTipWidth,this.kinkTipHeight=a.rootKinkTipLength*Math.cos(o),this.yToKinkStart=this.indexTopOverflow+this.emptySpaceAboveIndex+this.indexHeight+this.kinkTipHeight-this.padBottom;var r=this.kinkHeight/Math.tan(i),s=this.kinkWidth+r,h=this.index.getWidth()*a.rootIndexScale;this.indexLeftOverflow=h-s},i.prototype.recalcDimensions=function(){this.radical.recalcDimensions(),this.argument.recalcDimensions(),this.index.recalcDimensions(),this.calcMetrics(),t.prototype.recalcDimensions.call(this)},i.prototype.calcWidth=function(){return Math.max(this.indexLeftOverflow,0)+this.kinkWidth+a.rootArgMarginLeft+this.argument.getWidth()+this.padding.width()},i.prototype.calcHeight=function(){return 2*this.indexTopOverflow+this.argument.getHeight()+this.padding.height()},i.prototype.addLayout=function(t,i,n,e,o,r,s,h,c,u,l){var p,f=this.padding.scale(o),d=Math.max(this.indexLeftOverflow,0),g=d,y=this.yToKinkStart,v=g+this.kinkTipWidth,m=y-this.kinkTipHeight,w=d+this.kinkWidth,_=m+this.kinkHeight,O=w+a.rootArgMarginLeft,x=_-this.argument.getHeight()+1+this.padBottom,C=O+this.argument.getWidth(),b=x,k=this.getWidth()*o,S=this.getHeight()*o,P=new dt(t,this,n,e,k,S,o,g,y,v,m,w,_,O,x,C,b);p=this.indexLeftOverflow<0?n-this.indexLeftOverflow/2*o:n,p+=f.left-1*o;var E=e+(this.emptySpaceAboveIndex-1-this.padBottom)*o+f.top;this.index.addLayout(P,i,p,E,o*a.rootIndexScale,r,s,h,c,u,l);var T=n+(d+this.kinkWidth+a.rootArgMarginLeft)*o+f.left,H=e+this.indexTopOverflow*o+f.top;return this.argument.addLayout(P,i,T,H,o,r,s,h,c,u,l),this.radical&&this.radical.addLayout(P,i,n,e,o,r,s),i.set(this,P),P},i}(w),vt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),mt=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.calcChildHeight(),e}return vt(i,t),i.prototype.calcChildHeight=function(){var t=this;this.totalChildHeight=0,this.children.forEach(function(i){t.totalChildHeight+=i.getHeight()})},i.prototype.recalcDimensions=function(){t.prototype.recalcDimensions.call(this),this.calcChildHeight()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var p=new l(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),f=(this.getWidth()-this.padding.width())*o,d=e+(this.getHeight()-this.totalChildHeight)/2,g=0;g<this.children.length;g++){var y=this.children[g],v=(f-y.getWidth()*o)/2+this.padding.left*o+n;d+=y.addLayout(p,i,v,d,o,r,s,a,h,c,u).height}return i.set(this,p),p},i}(k),wt=function(){function t(t){this.ctx=t.getContext("2d")}return t.prototype.draw=function(t,i,n){var e=u.colors.default;this.ctx.strokeStyle="rgba("+e[0]+","+e[1]+","+e[2]+","+a.progressOpacity+")",J(0,n-1,i*t,n-1,this.ctx)},t}(),_t=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Ot=function(t){function i(i,n,e,o,r){var s=t.call(this,i,void 0)||this,a=i.width(),h=i.height();return s.layout=new f(void 0,s,n.tlx-a/2,n.tly-h/2,n.width+a,n.height+h,n.scale,r,o),e.set(s,s.layout),s.width=s.layout.width,s.height=s.layout.height,s}return _t(i,t),i.prototype.getLayout=function(){return this.layout},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e);var o=this.width/2,r=this.height/2,s=a.curvedOutlineBorderRadius;e.beginPath(),e.moveTo(-o+s,-r),e.lineTo(o-s,-r),e.quadraticCurveTo(o,-r,o,-r+s),e.lineTo(o,r-s),e.quadraticCurveTo(o,r,o-s,r),e.lineTo(-o+s,r),e.quadraticCurveTo(-o,r,-o,r-s),e.lineTo(-o,-r+s),e.quadraticCurveTo(-o,-r,-o+s,-r),e.closePath(),e.stroke()},i.prototype.calcWidth=function(){return this.width},i.prototype.calcHeight=function(){return this.height},i.prototype.addLayout=function(t,i,n,e,o,r,s){},i}(u),xt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Ct=function(t){function i(i,n,e){var o=t.call(this,a.outlineFadeInDuration,a.outlineFadeInEasing,e)||this;return o.layout=i,o.startO=o.layout.opacity,o.endO=n,e.addAnimation(o),o}return xt(i,t),i.prototype.step=function(t){var i=this.startO*(1-t)+this.endO*t;this.layout.opacity=i},i}(P),bt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),kt=function(t){function i(i,n,e){var o=t.call(this,a.outlineFadeInDuration,a.outlineFadeInEasing,e)||this;return o.layout=i,o.startColor=o.layout.color,o.endColor=n,e.addAnimation(o),o}return bt(i,t),i.prototype.step=function(t){var i=this.startColor[0]*(1-t)+this.endColor[0]*t,n=this.startColor[1]*(1-t)+this.endColor[1]*t,e=this.startColor[2]*(1-t)+this.endColor[2]*t;this.layout.color=[Math.round(i),Math.round(n),Math.round(e)]},i}(P),St=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Pt=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,void 0,i,n,e,o,r,s,a,h)||this;return u.percentFill=c,u}return St(i,t),i.prototype.withZeroScale=function(){return new i(this.component,this.tlx,this.tly,this.width,this.height,0,this.color,0,this.percentFill)},i}(f),Et=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Tt=function(t){function i(i,n,e,o,r,s,a){var h=t.call(this,i,void 0)||this;return h.layout=new Pt(h,n,e,o,o,1,a,s,0),h.width=o,h.height=o,r.set(h,h.layout),h}return Et(i,t),i.prototype.getLayout=function(){return this.layout},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e),e.beginPath();var o=(this.width-this.padding.width())/2;e.arc(0,0,o,0,2*Math.PI),e.closePath(),e.stroke(),e.beginPath();var r=o*(t.percentFill*(1-n)+i.percentFill*n);e.arc(0,0,r,0,2*Math.PI),e.fill()},i.prototype.calcWidth=function(){return this.width},i.prototype.calcHeight=function(){return this.height},i.prototype.addLayout=function(t,i,n,e,o,r,s){},i}(u),Ht=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),At=function(t){function i(i,n,e,o,r,s){var a=t.call(this,i,n,e)||this;return a.layout=o,a.startFill=r,a.endFill=s,e.addAnimation(a),a}return Ht(i,t),i.prototype.step=function(t){var i=this.startFill*(1-t)+this.endFill*t;this.layout.percentFill=i},i}(P),Lt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),jt=function(t){function i(i,n,e,o,r,s,a,h,c){var u=t.call(this,i,n)||this;return u.clickedIndex=-1,u.outlineOpacity=o,u.outlineColor=r,u.radioButtonOpacity=s,u.radioButtonColor=a,u.correctColor=h,u.incorrectColor=c,u.answers=[],e.forEach(function(t){return u.answers[t]=!0}),u}return Lt(i,t),i.prototype.calcWidth=function(){return t.prototype.calcWidth.call(this)+a.quizCurvedOutlinePadding.width()+a.quizRadioButtonDimen},i.prototype.calcHeight=function(){return t.prototype.calcHeight.call(this)+a.answerVMargin*(this.children.length+2)},i.prototype.addLayout=function(t,i,n,e,o,r,s,h,c,u,p){for(var f=this,d=new l(t,this,n,e,this.getWidth()*o,this.getHeight()*o,o),g=(this.getWidth()-this.padding.width())*o,y=e+this.padding.top*o+a.answerVMargin,v=[],m=[],w=function(t){var e=_.children[t],l=e.getWidth()+a.quizCurvedOutlinePadding.width()+a.quizRadioButtonDimen,w=e.getHeight(),O=n+(g-l)/2,x=new Tt(a.quizRadioButtonPadding,O,y+(w-a.quizRadioButtonDimen)/2,a.quizRadioButtonDimen,i,_.radioButtonOpacity,_.radioButtonColor);p.push(x);var C=x.getLayout();m.push(C),_.clickedIndex===t&&(C.percentFill=1);var b=O+a.quizRadioButtonDimen+a.quizCurvedOutlinePadding.left,k=e.addLayout(d,i,b,y,o,r,s,h,c,u,p);y+=k.height+a.answerVMargin;var S=new Ot(a.quizCurvedOutlinePadding,k,i,_.outlineOpacity,_.outlineColor);p.push(S);var P=S.getLayout();v.push(P),-1!==_.clickedIndex&&(P.opacity=a.revealedOutlineOpacity,_.answers[t]?P.color=_.correctColor:P.color=_.incorrectColor);var E=function(t,i,n){-1===f.clickedIndex&&(new Ct(P,a.hoveredOutlineOpacity,i),new At(a.quizRadioButtonSelectDuration,a.quizRadioButtonSelectEasing,i,C,0,1)),n.setCursor("pointer")};-1===_.clickedIndex&&(h.set(P,E),h.set(C,E));var T=function(t,i,n){-1===f.clickedIndex&&(new Ct(P,f.outlineOpacity,i),new At(a.quizRadioButtonDeselectDuration,a.quizRadioButtonDeselectEasing,i,C,1,0)),n.setCursor("default")};-1===_.clickedIndex&&(c.set(P,T),c.set(C,T))},_=this,O=0;O<this.children.length;O++)w(O);if(-1===this.clickedIndex){var x=function(t,i,n){var e=t instanceof Pt?m.indexOf(t):v.indexOf(t);f.answers[e]?n.setText('<em class="green">Correct!</em> Tap again to see working.'):n.setText('<em class="red">Not quite...</em> Tap again to see working.'),v.forEach(function(t,n){var e=f.answers[n]?f.correctColor:f.incorrectColor;return new kt(t,e,i),new Ct(t,a.revealedOutlineOpacity,i),!0}),f.clickedIndex=e,v.forEach(function(t){u.delete(t),h.delete(t),c.delete(t)}),m.forEach(function(t){u.delete(t),h.delete(t),c.delete(t)}),n.setCursor("default")};v.forEach(function(t){return u.set(t,x)}),m.forEach(function(t){return u.set(t,x)})}return i.set(this,d),d},i}(k),Wt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),Dt=function(t){function i(i,n,e,o,r){var s=t.call(this,i)||this;return s.widths=[],s.heights=[],s.lineStroke=r,s.children=n,s.width=s.calcWidth(),s.height=s.calcHeight(),s.hLines=e,s.vLines=o,s}return Wt(i,t),i.prototype.getLineStroke=function(){return this.lineStroke},i.prototype.getMinCellDimen=function(){return 0},i.prototype.recalcDimensions=function(){this.children.forEach(function(t){t.forEach(function(t){t.recalcDimensions()})}),t.prototype.recalcDimensions.call(this)},i.prototype.calcWidth=function(){for(var t=0,i=0;i<this.children[0].length;i++){for(var n=this.getMinCellDimen(),e=0;e<this.children.length;e++){var o=this.children[e][i],r=void 0;(r=o?o.getWidth():0)>n&&(n=r)}t+=n,this.widths[i]=n}return t+this.padding.width()+(this.children[0].length+1)*this.getLineStroke()},i.prototype.calcHeight=function(){for(var t=0,i=0;i<this.children.length;i++){for(var n=this.getMinCellDimen(),e=0;e<this.children[i].length;e++){var o=this.children[i][e],r=void 0;(r=o?o.getHeight():0)>n&&(n=r)}t+=n,this.heights[i]=n}return t+this.padding.height()+(this.children.length+1)*this.getLineStroke()},i.prototype.addLayout=function(t,i,n,e,o,r,s,a,h,c,u){for(var p=new l(t,this,n,e,this.width,this.height,o),f=e+this.padding.top+this.getLineStroke(),d=0;d<this.children.length;d++){var g=n+this.padding.left+this.getLineStroke(),y=this.heights[d];this.hLines[d]&&this.hLines[d].addLayout(p,i,void 0,f-this.getLineStroke(),o,r,s,a,h,c,u);for(var v=0;v<this.children[d].length;v++){var m=this.widths[v];this.vLines[v]&&this.vLines[v].addLayout(p,i,g-this.getLineStroke(),void 0,o,r,s,a,h,c,u);var w=this.children[d][v];if(w){var _=g+(m-w.getWidth())/2,O=f+(y-w.getHeight())/2;w.addLayout(p,i,_,O,o,r,s,a,h,c,u)}g+=m+this.getLineStroke(),v===this.children[d].length-1&&this.vLines[v+1]&&this.vLines[v+1].addLayout(p,i,g-this.getLineStroke(),void 0,o,r,s,a,h,c,u)}f+=y+this.getLineStroke(),d===this.children.length-1&&this.hLines[d+1]&&this.hLines[d+1].addLayout(p,i,n+this.padding.left,f-this.getLineStroke(),o,r,s,a,h,c,u)}return i.set(this,p),p},i}(w),Bt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),It=function(t){function i(i,n){var e=t.call(this,i,n)||this;return e.width=e.calcWidth(),e.height=e.calcHeight(),e}return Bt(i,t),i.prototype.setPadding=function(t){this.padding=t},i.prototype.calcWidth=function(){return 1+this.padding.width()},i.prototype.calcHeight=function(){return 0},i.prototype.addLayout=function(t,i,n,e,o,r,s){var a=t.tly,h=t.height,c=this.getWidth(),u=new et(t,this,n,a,c,h,o,this.getColorForContent(s),this.getOpacityForContent(r),c,h/o);return i.set(this,u),u},i.prototype.draw=function(t,i,n,e){this.setupCtx(t,i,n,e);var o=t.origInnerHeight*(1-n)+i.origInnerHeight*n;J(0,-o/2+this.padding.top,0,o/2-this.padding.bottom,e)},i}(u),Mt=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),zt=function(){function t(t,i,n){var e,o=this;this.currStep=0,this.mouseOnLast=[],this.lastHeight=0,this.lastWidth=0,this.container=t,this.steps=i.steps,this.stepOptions=i.stepOpts,this.terms=[],this.hDividers=[],this.vDividers=[],this.radicals=[],this.setSize=this.setSize.bind(this),this.startAutoplay=this.startAutoplay.bind(this),this.handleMouseClick=this.handleMouseClick.bind(this),this.isAutoplay=i.autoplay,this.customColors=n;var r=document.createElement("div");r.className="canvas-container",this.container.appendChild(r),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),r.appendChild(this.canvas);for(var s=!1,a=0;a<this.steps.length;a++)if(this.steps[a].text){s=!0;break}var h=this.steps.length>1&&!this.isAutoplay;if(h||s){var c=document.createElement("div");if(c.className="eqUpper",this.container.appendChild(c),h){var u=document.createElement("div");u.className="material-icons eqIcon",u.innerHTML="keyboard_arrow_left",u.setAttribute("role","button"),c.appendChild(u),this.prevStep=this.prevStep.bind(this),u.addEventListener("click",this.prevStep),u.addEventListener("mouseenter",this.highlightButton.bind(this,u)),u.addEventListener("mouseleave",this.unhighlightButton.bind(this,u))}s&&(this.textArea=document.createElement("div"),this.textArea.className="eqText",c.appendChild(this.textArea)),h&&(this.restartOrNextButton=document.createElement("div"),this.restartOrNextButton.className="material-icons eqIcon",this.restartOrNextButton.innerHTML="keyboard_arrow_right",this.restartOrNextButton.setAttribute("role","button"),c.appendChild(this.restartOrNextButton),this.restart=this.restart.bind(this),this.restartOrNextButton.addEventListener("click",this.handleMouseClick),this.canvas.addEventListener("mouseenter",this.highlightButton.bind(this,this.restartOrNextButton)),this.restartOrNextButton.addEventListener("mouseenter",this.highlightButton.bind(this,this.restartOrNextButton)),this.canvas.addEventListener("mouseleave",this.unhighlightButton.bind(this,this.restartOrNextButton)),this.restartOrNextButton.addEventListener("mouseleave",this.unhighlightButton.bind(this,this.restartOrNextButton)))}if(this.isAutoplay||(this.progress=new wt(this.canvas)),t.hasAttribute("data-fix-height")&&(this.fixedHeights=i.maxHeights),e=Y(i),this.fontFamily=e[0],this.fontStyle=e[1],this.fontWeight=e[2],this.initContent(i),this.updateFontSize(),this.recalc(!0),this.isAutoplay||(this.canvas.addEventListener("click",this.handleMouseClick),this.textArea&&this.textArea.addEventListener("click",this.handleMouseClick)),this.recalc=this.recalc.bind(this),window.addEventListener("resize",function(){o.updateFontSize(),o.updateDimensions(),o.recalc(!1)}),this.isAutoplay){this.overlayContainer=document.createElement("div"),this.overlayContainer.className="overlayContainer",this.overlayContainer.addEventListener("click",this.startAutoplay);var l=document.createElement("span");l.className="material-icons playButton",l.innerHTML="play_arrow",this.overlayContainer.appendChild(l),t.appendChild(this.overlayContainer)}this.handleMouseMove=this.handleMouseMove.bind(this),this.canvas.addEventListener("mousemove",this.handleMouseMove)}return t.prototype.highlightButton=function(t){var i=new S(function(){},this.ctx,0,0),n=new(function(n){function e(){return n.call(this,a.buttonHighlightDuration,a.buttonHighlightEasing,i)||this}return Mt(e,n),e.prototype.step=function(i){var n=.4*(1-i)+a.buttonHighlightedOpacity*i;t.style.opacity=""+n},e}(P));i.addAnimation(n),i.start()},t.prototype.unhighlightButton=function(t){var i=new S(function(){},this.ctx,0,0),n=new(function(n){function e(){return n.call(this,a.buttonUnhighlightDuration,a.buttonUnhighlightEasing,i)||this}return Mt(e,n),e.prototype.step=function(i){var n=a.buttonHighlightedOpacity*(1-i)+.4*i;t.style.opacity=""+n},e}(P));i.addAnimation(n),i.start()},t.prototype.setCursor=function(t){this.canvas.style.cursor=t},t.prototype.setText=function(t){this.textArea&&(this.textArea.innerHTML=t)},t.prototype.handleMouseClick=function(t){var i=this;if(this.mouseClickEvents.size>0){var n=this.canvas.getBoundingClientRect(),e=t.clientX-n.left,o=t.clientY-n.top,r=[];this.mouseClickEvents.forEach(function(t,i){i.contains(e,o)&&r.push(i)});var s=[];this.currStates.forEach(function(t){return s.push(t)});var a=new S(void 0,this.ctx,this.lastWidth,this.lastHeight,s);r.forEach(function(t){i.mouseClickEvents.get(t)(t,a,i)}),a.start()}else this.currStep>=this.steps.length-1?this.restart():this.nextStep()},t.prototype.handleMouseMove=function(t){var i=this;if(this.mouseEnterEvents.size>0||this.mouseExitEvents.size>0){var n=this.canvas.getBoundingClientRect(),e=t.clientX-n.left,o=t.clientY-n.top,r=[];this.mouseEnterEvents.forEach(function(t,i){i.contains(e,o)&&r.push(i)}),this.mouseExitEvents.forEach(function(t,i){i.contains(e,o)&&r.push(i)});var s=[];this.currStates.forEach(function(t){return s.push(t)});var a=new S(void 0,this.ctx,this.lastWidth,this.lastHeight,s);r.forEach(function(t){-1===i.mouseOnLast.indexOf(t)&&i.mouseEnterEvents.get(t)(t,a,i)}),this.mouseOnLast.forEach(function(t){-1===r.indexOf(t)&&i.mouseExitEvents.get(t)(t,a,i)}),this.mouseOnLast=r,a.start()}},t.prototype.startAutoplay=function(){this.overlayContainer.style.display="none",this.autoplay()},t.prototype.autoplay=function(){var t=this;this.currStep>=this.steps.length-1?setTimeout(function(){t.stopAutoplay(),t.currStep=0,t.recalc(!0)},this.getAutoplayDelay(this.steps.length-1)):setTimeout(function(){t.nextStep(function(){t.autoplay()})},this.getAutoplayDelay(this.currStep))},t.prototype.stopAutoplay=function(){this.overlayContainer.style.display="block"},t.prototype.getAutoplayDelay=function(t){return this.isAutoplay.delays&&this.isAutoplay.delays[t]?this.isAutoplay.delays[t]:0},t.prototype.updateFontSize=function(){this.fontSize=G(window.currentWidthTier)},t.prototype.updateDimensions=function(){this.forAllContent(function(t){t.recalcDimensions()}),this.currRootContainer&&this.currRootContainer.recalcDimensions()},t.prototype.redraw=function(){var t=this;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.currStates.forEach(function(i){t.ctx.save(),i.component instanceof u&&(i.component.interpColorOff(),i.component.draw(i,i,0,t.ctx)),t.ctx.restore()})},t.prototype.recalc=function(t){var i,n;i=this.calcLayout(this.currStep,t),this.currStates=i[0],n=i[1],this.mouseEnterEvents=i[2],this.mouseExitEvents=i[3],this.mouseClickEvents=i[4],this.tempContent=i[5],this.mouseOnLast=[];var e=this.getSize(n),o=e[0],r=e[1];this.setSize(o,r),this.redraw(),this.progress&&this.progress.draw(this.currStep/(this.steps.length-1),o,r)},t.prototype.nextStep=function(t){var i;if(!(this.currStep+1>=this.steps.length||this.currAnimation)){this.currStep++;var n,e=this.currStates;i=this.calcLayout(this.currStep,!0),this.currStates=i[0],n=i[1],this.mouseEnterEvents=i[2],this.mouseExitEvents=i[3],this.mouseClickEvents=i[4],this.tempContent=i[5],this.mouseOnLast=[];var o=this.getSize(n),r=o[0],s=o[1];this.currAnimation=this.diff(e,r,s,this.currStep-1,this.currStep,t instanceof Function?t:void 0),this.currAnimation.start()}},t.prototype.prevStep=function(){var t;if(!(this.currStep-1<0)){this.currAnimation&&(this.currAnimation.stop(),this.redraw()),this.currStep--;var i,n=this.currStates;t=this.calcLayout(this.currStep,!0),this.currStates=t[0],i=t[1],this.mouseEnterEvents=t[2],this.mouseExitEvents=t[3],this.mouseClickEvents=t[4],this.tempContent=t[5],this.mouseOnLast=[];var e=this.getSize(i),o=e[0],r=e[1];this.currAnimation=this.diff(n,o,r,this.currStep+1,this.currStep,void 0),this.currAnimation.start()}},t.prototype.restart=function(){var t;if(!this.currAnimation&&0!==this.currStep){var i=this.currStep;this.currStep=0;var n,e=this.currStates;t=this.calcLayout(this.currStep,!0),this.currStates=t[0],n=t[1],this.mouseEnterEvents=t[2],this.mouseExitEvents=t[3],this.mouseClickEvents=t[4],this.tempContent=t[5],this.mouseOnLast=[];var o=this.getSize(n),r=o[0],s=o[1];this.currAnimation=this.diff(e,r,s,i,0,void 0),this.currAnimation.start()}},t.prototype.forAllContent=function(t){this.terms.forEach(t),this.hDividers.forEach(t),this.vDividers.forEach(t),this.radicals.forEach(t),this.tempContent.forEach(t)},t.prototype.diff=function(t,i,n,e,o,r){var s=this,h=n<this.lastHeight;if(!h&&(this.setSize(i,n),Z)){var c=this.currStates;this.currStates=t,this.redraw(),this.currStates=c}var u,l,p=new S(function(){h&&(s.setSize(i,n),s.redraw()),s.restartOrNextButton&&(o===s.steps.length-1?s.restartOrNextButton.innerHTML="refresh":s.restartOrNextButton.innerHTML="keyboard_arrow_right"),s.progress&&h&&s.progress.draw(s.currStep/(s.steps.length-1),i,n),s.currAnimation=void 0,r&&r()},this.ctx,this.lastWidth,this.lastHeight);e<o?(u=this.getStepOptions(e,o),l=!1):(u=this.getStepOptions(o,e),l=!0);var f,d,g=function(t){return u&&u.merges&&u.merges[t]},y=function(t){return u&&u.clones&&u.clones[t]},v=function(t){return u&&u.evals&&u.evals[t]},m=u&&u.moveDuration?u.moveDuration:a.moveDuration;l?(f=u&&u.removeDuration?u.removeDuration:a.removeDuration,d=u&&u.addDuration?u.addDuration:a.addDuration):(f=u&&u.addDuration?u.addDuration:a.addDuration,d=u&&u.removeDuration?u.removeDuration:a.removeDuration);var w=Math.max(m,f,d),_=function(t,i){var n=this.getContentFromRef(t),e=this.currStates.get(n);p.addAnimation(new A(i,e,p,this.ctx,m))}.bind(this),O=function(i,n){var e=this.getContentFromRef(i),o=t.get(e);p.addAnimation(new A(o,n,p,this.ctx,m))}.bind(this),x=function(t,i){var n=this.getContentFromRef(t),e=this.currStates.get(n);p.addAnimation(new I(i,e,p,this.ctx,m))}.bind(this),C=function(i,n){var e=this.getContentFromRef(i),o=t.get(e);p.addAnimation(new z(o,n,p,this.ctx,m))}.bind(this);return this.progress&&!h&&p.addAnimation(new q(e,o,this.steps.length,this.progress,p,w,a.progressEasing,i,n)),this.forAllContent(function(i){var n=void 0;void 0!==t&&(n=t.get(i));var e=s.currStates.get(i),o=i.getRef();n&&e?p.addAnimation(new A(n,e,p,s.ctx,m)):n?g(o)?_(u.merges[o],n):v(o)?x(u.evals[o],n):l&&y(o)?_(u.clones[o],n):p.addAnimation(new j(n,p,s.ctx,d)):e&&(y(o)?O(u.clones[o],e):l&&g(o)?O(u.merges[o],e):l&&v(o)?C(u.evals[o],e):p.addAnimation(new D(e,p,s.ctx,f)))}),p},t.prototype.getSize=function(t){var i=t.height,n=t.width,e=this.container.clientWidth;return[n>e?n:e,i]},t.prototype.setSize=function(t,i){if(t!==this.lastWidth||i!==this.lastHeight){this.canvas.style.width=t+"px",this.canvas.style.height=i+"px";var n=window.devicePixelRatio||1;this.canvas.width=t*n,this.canvas.height=i*n,this.ctx.scale(n,n),this.ctx.font=this.fontWeight+" "+this.fontStyle+" "+this.fontSize+"px "+this.fontFamily,this.lastHeight=i,this.lastWidth=t}},t.prototype.initContent=function(t){this.termHeights=[];var i=[];if(t.terms.length>0)for(var n=0;n<a.widthTiers.length;n++)this.termHeights.push(t.metrics[n].height),i.push(t.metrics[n].ascent);for(var e=0;e<t.terms.length;e++){var o=[];for(n=0;n<a.widthTiers.length;n++)o.push(t.metrics[n].widths[e]);var r=t.terms[e],s=new v(r,o,this.termHeights,i,"t"+e);this.terms.push(s)}for(var h=0;h<t.hDividers;h++)this.hDividers.push(new rt(a.hDividerPadding,"h"+h));for(h=0;h<t.vDividers;h++)this.vDividers.push(new It(a.vDividerPadding,"v"+h));for(h=0;h<t.radicals;h++)this.radicals.push(new pt("r"+h))},t.prototype.getContentFromRef=function(t){var i=t.substring(0,1),n=parseFloat(t.substring(1,t.length));if("t"===i)return this.terms[n];if("h"===i)return this.hDividers[n];if("r"===i)return this.radicals[n];if("v"===i)return this.vDividers[n];throw"unrecognized content type"},t.prototype.getStepOptions=function(t,i){if(this.stepOptions&&i-t==1)return this.stepOptions[i-1]},t.prototype.calcLayout=function(t,i){if(i){var n=this.steps[t].root;this.currRootContainer=this.parseContainer(n,0)}var e=this.container.clientWidth;if(this.currRootContainer.getWidth()<e&&this.currRootContainer.setWidth(e),this.fixedHeights){var o=this.fixedHeights[window.currentWidthTier];this.currRootContainer.setHeight(o)}i&&this.textArea&&(this.textArea.innerHTML=this.steps[t].text?this.steps[t].text:"");var r=this.steps[t].color,s=this.steps[t].opacity,a=Q(),h=Q(),c=Q(),u=Q(),l=[];return[a,this.currRootContainer.addLayout(void 0,a,0,0,1,s,r,h,c,u,l),h,c,u,l]},t.prototype.parseContainer=function(t,i){var n=t.type;if("vbox"===n){var e=this.parseContainerChildren(t.children,i+1),r=0===i?a.defaultRootVBoxPadding:o.even(a.defaultVBoxPadding);return this.fixedHeights&&0===i?new mt(e,r):new k(e,r)}if("hbox"===n)return new C(this.parseContainerChildren(t.children,i+1),o.even(a.defaultHBoxPadding));if("tightHBox"===n)return new ht(this.parseContainerChildren(t.children,i+1),o.even(a.defaultTightHBoxPadding));if("subSuper"===n){var s=t,h=new C(this.parseContainerChildren(s.top,i+1),o.even(0)),c=new ht(this.parseContainerChildren(s.middle,i+1),o.even(0)),u=new C(this.parseContainerChildren(s.bottom,i+1),o.even(0)),l=s.portrusion?s.portrusion:a.defaultExpPortrusion;return new ut(h,c,u,l,a.defaultSubSuperPadding)}if("root"===n){s=t;var p=new C(this.parseContainerChildren(s.idx,i+1),o.even(0)),f=new C(this.parseContainerChildren(s.arg,i+1),o.even(0)),d=void 0;return s.rad&&(d=this.getContentFromRef(s.rad)),new yt(p,f,d,a.defaultRootPadding,this.termHeights)}if("quiz"===n){s=t;return new jt(this.parseContainerChildren(s.children,i+1),a.defaultQuizPadding,s.answers,this.customColors&&this.customColors.curvedOutlineOpacity?this.customColors.curvedOutlineOpacity:a.curvedOutlineDefaultOpacity,this.customColors&&this.customColors.curvedOutlineColor?this.customColors.curvedOutlineColor:a.curvedOutlineColor,this.customColors&&this.customColors.radioButtonOpacity?this.customColors.radioButtonOpacity:a.radioButtonDefaultOpacity,this.customColors&&this.customColors.radioButtonColor?this.customColors.radioButtonColor:a.radioButtonColor,this.customColors&&this.customColors.quizCorrectColor?this.customColors.quizCorrectColor:a.quizCorrectColor,this.customColors&&this.customColors.quizIncorrectColor?this.customColors.quizIncorrectColor:a.quizIncorrectColor)}if("table"===n){s=t;var g=this.parseChildren2D(s.children);return new Dt(a.defaultTablePadding,g,this.parseChildrenObj(s.hLines),this.parseChildrenObj(s.vLines),1)}throw void 0===n?"Invalid JSON File: Missing type attribute on container descriptor.":"Invalid JSON File: Unrecognized type: "+n},t.prototype.parseChildrenObj=function(t){var i=this,n={};return t?(Object.keys(t).forEach(function(e){var o=t[e];n[e]=i.getContentFromRef(o)}),n):n},t.prototype.parseChildren2D=function(t){var i=this,n=[];return t.forEach(function(t){n.push(i.parseContainerChildren(t,1))}),n},t.prototype.parseContainerChildren=function(t,i){var n=this,e=[];return t.forEach(function(t){if("object"==typeof t)null===t?e.push(void 0):e.push(n.parseContainer(t,i+1));else{if("string"!=typeof t)throw"Invalid type of child in JSON file.";e.push(n.getContentFromRef(t))}}),e},t}(),Ft=function(){var t=function(i,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])})(i,n)};return function(i,n){function e(){this.constructor=i}t(i,n),i.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),qt=function(t){function i(i){return t.call(this,document.createElement("div"),i)||this}return Ft(i,t),i.prototype.getMaxHeight=function(t){var i=window;i.currentWidthTier=t,this.terms.forEach(function(t){t.recalcDimensions()});for(var n=0,e=0;e<this.steps.length;e++){var o=this.calcLayout(e,!0)[1];o.height>n&&(n=o.height)}return i.currentWidthTier=K(),n},i.prototype.compute=function(){for(var t=[],i=0;i<a.widthTiers.length;i++)t.push(this.getMaxHeight(i));return t},i}(zt),Rt=n(1),Nt=!1,Xt=0,Yt={type:"g",name:a.fontFamily+":"+a.fontWeight};function Ut(){var t=new XMLHttpRequest;t.addEventListener("load",function(){200===t.status?(tt=JSON.parse(t.responseText),u.colors=tt.colors,X(tt.colors)):(u.colors=a.colors,X()),Xt=t.status}),t.open("GET","colors.json"),t.send(),Nt=!0}function Vt(t){var i=document.createElement("style"),n="@font-face {font-family: "+t.name+";font-style: "+t.style+";font-weight: "+t.weight+";src: url("+t.src+");}";i.appendChild(document.createTextNode(n)),document.head.appendChild(i);var e=t.name+":";if("normal"===t.style)e+="n";else{if("italic"!==t.style)throw"Unrecognized custom font style";e+="i"}return e+=t.weight}function Zt(t,i){i.metrics||(i.metrics=U(i)),t.hasAttribute("data-fix-height")&&!i.maxHeights&&(i.maxHeights=new qt(i).compute());var n=function(){0===Xt?setTimeout(n,10):200===Xt?new zt(t,i,tt):new zt(t,i)};n()}"undefined"!=typeof self&&self,it=function(){return function(t,i){if("string"==typeof t)!function(t){Nt||Ut();for(var i=document.getElementsByClassName(t),n=[],e=i.length,o=0,r=0;r<i.length;r++){var s=i[r];s.hasAttribute("data-src")?(h(r,s.getAttribute("data-src")),o++):h(r,"anim"+(r-o)+".json")}function a(){for(var t=0;t<i.length;t++)Zt(i[t],n[t])}function h(t,i){var o=new XMLHttpRequest;o.addEventListener("load",function(){var i=JSON.parse(this.responseText);n[t]=i,0==--e&&function(){var t={};n.forEach(function(i){var n;n=i.font?i.font:Yt,t[JSON.stringify(n)]=!0});var i=Object.keys(t).map(function(t){return JSON.parse(t)}),e={active:a,inactive:a};i.forEach(function(t){var i=t.type;if("g"===i){var n=t;e.google||(e.google={families:[]}),e.google.families.push(n.name)}else{if("c"!==i)throw"unrecognized custom font type";var o=Vt(t);e.custom||(e.custom={},e.custom.families=[]),e.custom.families.push(o)}}),Rt.load(e)}()}),o.open("GET",i),o.send()}}(t);else{if(!("object"==typeof t&&t instanceof HTMLElement))throw new Error("Invalid first argument. Pass either a class name representing all containers to load, or an HTML Element that will become the container.");!function(t,i){Nt||Ut();var n,e=function(){Zt(t,n)},o=function(){var t;if(n.font)if("c"===n.font.type)t={custom:{families:[Vt(n.font)]}};else{if("g"!==n.font.type)throw new Error("Unrecognized font type.");t={google:{families:[n.font.name]}}}else t={google:{families:[Yt.name]}};t.active=e,t.inactive=e,Rt.load(t)};if("object"==typeof i)n=i,o();else{var r=i||t.getAttribute("data-src");if(!r)throw new Error("If a URL is not passed to loadEqContainer, it must be specified on the element via the data-src attribute.");var s=new XMLHttpRequest;s.addEventListener("load",function(){n=JSON.parse(this.responseText),o()}),s.open("GET",r),s.send()}}(t,i)}}},"function"==typeof define&&n(3)?define("loadEqContainer",[],it):window.loadEqContainer=it()}]);